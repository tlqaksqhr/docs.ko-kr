---
title: "컨테이너 및 마이크로 서비스 기반 응용 프로그램 설계"
description: "컨테이너화된 .NET 응용 프로그램을 위한 .NET 마이크로 서비스 아키텍처 | 컨테이너 및 마이크로 서비스 기반 응용 프로그램 설계"
keywords: "Docker, 마이크로 서비스, ASP.NET, 컨테이너"
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 05/26/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.openlocfilehash: 246605b301f6bcea4cced2cb7d1c494e9f66aa4a
ms.sourcegitcommit: c2e216692ef7576a213ae16af2377cd98d1a67fa
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/22/2017
---
# <a name="architecting-container--and-microservice-based-applications"></a><span data-ttu-id="81970-104">컨테이너 및 마이크로 서비스 기반 응용 프로그램 설계</span><span class="sxs-lookup"><span data-stu-id="81970-104">Architecting Container- and Microservice-Based Applications</span></span>

<span data-ttu-id="81970-105">*마이크로 서비스는 기존 아키텍처에 비해 다양한 이점이 있지만, 해결해야 할 새로운 과제도 있습니다. 마이크로 서비스 아키텍처 패턴은 마이크로 서비스 기반 응용 프로그램을 만들 때 중추적인 역할을 합니다.*</span><span class="sxs-lookup"><span data-stu-id="81970-105">*Microservices offer great benefits but also raise huge new challenges. Microservice architecture patterns are fundamental pillars when creating a microservice-based application.*</span></span>

<span data-ttu-id="81970-106">이 가이드의 초반부에서는 컨테이너와 Docker에 대한 기본 개념을 알아보았습니다.</span><span class="sxs-lookup"><span data-stu-id="81970-106">Earlier in this guide, you learned basic concepts about containers and Docker.</span></span> <span data-ttu-id="81970-107">이러한 개념은 컨테이너를 시작하는 데 필요한 최소한의 정보입니다.</span><span class="sxs-lookup"><span data-stu-id="81970-107">That was the minimum information you need in order to get started with containers.</span></span> <span data-ttu-id="81970-108">컨테이너를 사용하면 마이크로 서비스를 제대로 구현할 수 있지만, 컨테이너는 마이크로 서비스 아키텍처의 필수 요소는 아니며 이 아키텍처 섹션의 대다수 아키텍처 개념은 컨테이너 없이도 적용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="81970-108">Although, even when containers are enablers and a great fit for microservices, they are not mandatory for a microservice architecture and many architectural concepts in this architecture section could be applied without containers, too.</span></span> <span data-ttu-id="81970-109">그러나 이미 컨테이너의 중요성을 소개했으므로 이 참고 자료에서는 컨테이너와 Docker의 공통점을 집중적으로 알아보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="81970-109">However, this guidance focuses on the intersection of both due to the already introduced importance of containers.</span></span>

<span data-ttu-id="81970-110">엔터프라이즈 응용 프로그램은 복잡할 수 있으며 단일 서비스 기반 응용 프로그램 대신 여러 서비스로 구성된 경우가 많습니다.</span><span class="sxs-lookup"><span data-stu-id="81970-110">Enterprise applications can be complex and are often composed of multiple services instead of a single service-based application.</span></span> <span data-ttu-id="81970-111">이러한 경우 마이크로 서비스, 특정 DDD(도메인 기반 디자인) 패턴 및 컨테이너 오케스트레이션 개념과 같은 추가 아키텍처 접근 방법을 이해해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="81970-111">For those cases, you need to understand additional architectural approaches, such as the microservices and certain Domain-Driven Design (DDD) patterns plus container orchestration concepts.</span></span> <span data-ttu-id="81970-112">이 장에서는 컨테이너에서의 마이크로 서비스뿐만 아니라 컨테이너화된 응용 프로그램에 대해서도 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="81970-112">Note that this chapter describes not just microservices on containers, but any containerized application, as well.</span></span>

## <a name="container-design-principles"></a><span data-ttu-id="81970-113">컨테이너 디자인 원칙</span><span class="sxs-lookup"><span data-stu-id="81970-113">Container design principles</span></span>

<span data-ttu-id="81970-114">컨테이너 모델에서 컨테이너 이미지 인스턴스는 단일 프로세스를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="81970-114">In the container model, a container image instance represents a single process.</span></span> <span data-ttu-id="81970-115">컨테이너 이미지를 프로세스 경계로 정의하여 프로세스 크기를 조정하거나 일괄 처리하는 데 사용할 수 있는 기본 형식을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="81970-115">By defining a container image as a process boundary, you can create primitives that can be used to scale the process or to batch it.</span></span>

<span data-ttu-id="81970-116">컨테이너 이미지를 디자인할 때 Dockerfile에서 [ENTRYPOINT](https://docs.docker.com/engine/reference/builder/) 정의가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="81970-116">When you design a container image, you will see an [ENTRYPOINT](https://docs.docker.com/engine/reference/builder/) definition in the Dockerfile.</span></span> <span data-ttu-id="81970-117">이는 컨테이너의 수명을 제어하는 수명의 프로세스를 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="81970-117">This defines the process whose lifetime controls the lifetime of the container.</span></span> <span data-ttu-id="81970-118">프로세스가 완료되면 컨테이너 수명 주기가 종료됩니다.</span><span class="sxs-lookup"><span data-stu-id="81970-118">When the process completes, the container lifecycle ends.</span></span> <span data-ttu-id="81970-119">컨테이너는 웹 서버와 같은 장기 실행 프로세스를 나타낼 수 있지만 이전에 Azure [WebJobs](https://docs.microsoft.com/azure/app-service-web/websites-webjobs-resources)로 구현되었을 수 있는 일괄 작업과 같은 단기 실행 프로세스를 나타낼 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="81970-119">Containers might represent long-running processes like web servers, but can also represent short-lived processes like batch jobs, which formerly might have been implemented as Azure [WebJobs](https://docs.microsoft.com/azure/app-service-web/websites-webjobs-resources).</span></span>

<span data-ttu-id="81970-120">프로세스에 실패할 경우 컨테이너가 종료되며 조정자가 이어서 프로세스를 진행합니다.</span><span class="sxs-lookup"><span data-stu-id="81970-120">If the process fails, the container ends, and the orchestrator takes over.</span></span> <span data-ttu-id="81970-121">조정자가 5개의 인스턴스는 실행하고 1개는 실패하도록 구성된 경우 조정자는 실패한 프로세스를 바꾸기 위해 다른 컨테이너 인스턴스를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="81970-121">If the orchestrator was configured to keep five instances running and one fails, the orchestrator will create another container instance to replace the failed process.</span></span> <span data-ttu-id="81970-122">일괄 작업에서 프로세스는 매개 변수와 함께 시작됩니다.</span><span class="sxs-lookup"><span data-stu-id="81970-122">In a batch job, the process is started with parameters.</span></span> <span data-ttu-id="81970-123">프로세스가 완료되면 작업이 완료됩니다.</span><span class="sxs-lookup"><span data-stu-id="81970-123">When the process completes, the work is complete.</span></span> <span data-ttu-id="81970-124">이 설명서의 뒷부분에서는 오케스트레이터에 대해 자세히 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="81970-124">This guidance drills-down on orchestrators, later on.</span></span>

<span data-ttu-id="81970-125">여러 프로세스를 단일 컨테이너에서 실행하려는 시나리오가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="81970-125">You might find a scenario where you want multiple processes running in a single container.</span></span> <span data-ttu-id="81970-126">이러한 시나리오의 경우 컨테이너 1개당 진입점 1개만 허용되므로 필요에 따라 가능한 한 많은 프로그램을 시작하는 컨테이너에서 스크립트를 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="81970-126">For that scenario, since there can be only one entry point per container, you could run a script within the container that launches as many programs as needed.</span></span> <span data-ttu-id="81970-127">예를 들어 [감독자](http://supervisord.org/) 또는 비슷한 도구를 사용하여 단일 컨테이너 내에서 여러 프로세스를 시작하는 것을 관리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="81970-127">For example, you can use [Supervisor](http://supervisord.org/) or a similar tool to take care of launching multiple processes inside a single container.</span></span> <span data-ttu-id="81970-128">그러나 컨테이너당 여러 프로세스를 실행하는 아키텍처를 확인할 수 있을지라도 이러한 접근 방식은 매우 일반적인 방법이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="81970-128">However, even though you can find architectures that hold multiple processes per container, that approach it is not very common.</span></span>


>[!div class="step-by-step"]
<span data-ttu-id="81970-129">[이전] (../net-core-net-framework-containers/official-net-docker-images.md) [다음] (containerize-monolithic-applications.md)</span><span class="sxs-lookup"><span data-stu-id="81970-129">[Previous] (../net-core-net-framework-containers/official-net-docker-images.md) [Next] (containerize-monolithic-applications.md)</span></span>
