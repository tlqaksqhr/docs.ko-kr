---
title: "확인"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 8637aeaf-ac9e-49b8-93f4-da15dee45277
caps.latest.revision: "7"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 42d9fad968b471c63dbdac2145bb9e84afed183b
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/22/2017
---
# <a name="confirmation"></a><span data-ttu-id="37225-102">확인</span><span class="sxs-lookup"><span data-stu-id="37225-102">Confirmation</span></span>
<span data-ttu-id="37225-103">이 샘플에서는 <xref:System.Activities.Statements.CompensableActivity>의 사용 및 확인과 관련된 일반적인 네 개의 시나리오를 보여 주고,</span><span class="sxs-lookup"><span data-stu-id="37225-103">This sample shows four common scenarios surrounding the use of <xref:System.Activities.Statements.CompensableActivity> and confirmation.</span></span> <span data-ttu-id="37225-104">네 개의 워크플로를 실행하여 확인하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="37225-104">The sample runs four workflows to show confirmation.</span></span> <span data-ttu-id="37225-105">이 샘플은 선언적 버전과 명령적 버전으로 사용할 수 있습니다. </span><span class="sxs-lookup"><span data-stu-id="37225-105">This sample is available in declarative and imperative versions.</span></span>  
  
## <a name="confirm-a-compensable-activity"></a><span data-ttu-id="37225-106">보정 가능한 활동 확인</span><span class="sxs-lookup"><span data-stu-id="37225-106">Confirm a Compensable Activity</span></span>  
 <span data-ttu-id="37225-107">첫 번째 워크플로는 보정 가능한 활동을 확인하는 방법을 보여 주며, 두 개의 <xref:System.Activities.Statements.CompensableActivity> 인스턴스로 이루어진 시퀀스로 구성되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="37225-107">The first workflow demonstrates how to confirm a compensable activity and consists of a sequence of two <xref:System.Activities.Statements.CompensableActivity> instances.</span></span> <span data-ttu-id="37225-108">확인 활동은 두 번째 <xref:System.Activities.Statements.CompensableActivity>가 완료된 후 첫 번째 활동을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="37225-108">After the completion of the second <xref:System.Activities.Statements.CompensableActivity> a confirm activity confirms the first activity.</span></span> <span data-ttu-id="37225-109">확인되지 않거나 보정되지 않은 <xref:System.Activities.Statements.CompensableActivity> 모든 인스턴스는 워크플로가 성공적으로 완료되면 기본 순서를 사용하여 자동으로 확인됩니다.</span><span class="sxs-lookup"><span data-stu-id="37225-109">When the workflow successfully completes, all <xref:System.Activities.Statements.CompensableActivity> instances that have not been confirmed or compensated are automatically confirmed using the default order.</span></span> <span data-ttu-id="37225-110">확인하지 않을 경우 두 번째 <xref:System.Activities.Statements.CompensableActivity>가 먼저 확인됩니다.</span><span class="sxs-lookup"><span data-stu-id="37225-110">Without the confirm, the second <xref:System.Activities.Statements.CompensableActivity> would have been confirmed first.</span></span>  
  
## <a name="explicit-compensation"></a><span data-ttu-id="37225-111">명시적 보정</span><span class="sxs-lookup"><span data-stu-id="37225-111">Explicit Compensation</span></span>  
 <span data-ttu-id="37225-112">두 번째 시나리오에서는 <xref:System.Activities.Statements.CompensableActivity>가 명시적으로 보정되는 경우 기본 확인에 어떤 영향을 주는지 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="37225-112">The second scenario shows the affect on default confirmation when a <xref:System.Activities.Statements.CompensableActivity> is explicitly compensated.</span></span> <span data-ttu-id="37225-113">워크플로는 두 개의 <xref:System.Activities.Statements.CompensableActivity> 활동으로 이루어진 시퀀스로 구성되어 있으며, 두 번째 활동이 완료된 후 첫 번째 활동이 명시적으로 보정됩니다.</span><span class="sxs-lookup"><span data-stu-id="37225-113">The workflow consists of a sequence of two <xref:System.Activities.Statements.CompensableActivity> activities, after the second completes the first is explicitly compensated.</span></span> <span data-ttu-id="37225-114">따라서 워크플로가 완료되면 두 번째 <xref:System.Activities.Statements.CompensableActivity>만 확인됩니다.</span><span class="sxs-lookup"><span data-stu-id="37225-114">As a result when the workflow, completes only the second <xref:System.Activities.Statements.CompensableActivity> is confirmed.</span></span>  
  
## <a name="controlling-the-order-of-confirmation-for-nested-compensableactivity-activities"></a><span data-ttu-id="37225-115">중첩된 CompensableActivity 활동의 확인 순서 제어</span><span class="sxs-lookup"><span data-stu-id="37225-115">Controlling the Order of Confirmation for Nested CompensableActivity Activities</span></span>  
 <span data-ttu-id="37225-116">세 번째 시나리오에서는 중첩된 <xref:System.Activities.Statements.CompensableActivity>의 확인 순서를 제어하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="37225-116">The third scenario shows how to control the order of confirmation for nested <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="37225-117">시나리오는 워크플로 루트 역할을 하는 <xref:System.Activities.Statements.CompensableActivity>로 구성되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="37225-117">The scenario consists of a <xref:System.Activities.Statements.CompensableActivity> as the root of the workflow.</span></span> <span data-ttu-id="37225-118">루트 <xref:System.Activities.Statements.CompensableActivity>의 본문은 세 개의 <xref:System.Activities.Statements.CompensableActivity>로 구성된 시퀀스입니다.</span><span class="sxs-lookup"><span data-stu-id="37225-118">The body of the root <xref:System.Activities.Statements.CompensableActivity> is a sequence of three <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="37225-119">루트 <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A>의 <xref:System.Activities.Statements.CompensableActivity>는 첫 번째와 두 번째 중첩된 <xref:System.Activities.Statements.CompensableActivity>를 차례로 확인하도록 지정하는 시퀀스입니다.</span><span class="sxs-lookup"><span data-stu-id="37225-119">The <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A> for the root <xref:System.Activities.Statements.CompensableActivity> is a sequence that specifies to confirm the first then the second nested <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="37225-120">워크플로는 완료될 때 루트 <xref:System.Activities.Statements.CompensableActivity>를 확인하며, 그 다음에 첫 번째, 두 번째, 세 번째 중첩된 <xref:System.Activities.Statements.CompensableActivity>를 차례로 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="37225-120">When the workflow completes it confirms the root <xref:System.Activities.Statements.CompensableActivity>, which then confirms the first, second and third nested <xref:System.Activities.Statements.CompensableActivity>, in that order.</span></span> <span data-ttu-id="37225-121">따라서 기본 확인 순서는 반대입니다.</span><span class="sxs-lookup"><span data-stu-id="37225-121">As a result, the default confirmation order is essentially reversed.</span></span> <span data-ttu-id="37225-122">세 번째 <xref:System.Activities.Statements.CompensableActivity>는 <xref:System.Activities.Statements.CompensableActivity>에 의해 명시적으로 루트 <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A>의 일부로 확인되지 않았기 때문에 기본 순서에 따라 확인됩니다.</span><span class="sxs-lookup"><span data-stu-id="37225-122">Because the third <xref:System.Activities.Statements.CompensableActivity> was not explicitly confirmed as part of the root <xref:System.Activities.Statements.CompensableActivity> by the <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A>, it is confirmed according to the default order.</span></span> <span data-ttu-id="37225-123">그러나 이 활동은 유일하게 확인되지 않은 <xref:System.Activities.Statements.CompensableActivity>이기 때문에 확인된 것으로 간주됩니다.</span><span class="sxs-lookup"><span data-stu-id="37225-123">However, because it is the only unconfirmed <xref:System.Activities.Statements.CompensableActivity> this just means it is confirmed.</span></span>  
  
## <a name="scoping-of-variables"></a><span data-ttu-id="37225-124">변수 범위 지정</span><span class="sxs-lookup"><span data-stu-id="37225-124">Scoping of Variables</span></span>  
 <span data-ttu-id="37225-125">네 번째 시나리오에서는 활동이나 워크플로가 완료된 경우에도 <xref:System.Activities.Statements.CompensableActivity>, <xref:System.Activities.Statements.CompensableActivity.CompensationHandler%2A> 또는 <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A> 처리기가 실행될 때 <xref:System.Activities.Statements.CompensableActivity.CancellationHandler%2A> 또는 이 활동의 부모 중 하나에 대해 정의된 변수의 수명 주기가 여전히 범위 내에 있게 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="37225-125">The fourth scenario shows how the lifetime of variables defined for a <xref:System.Activities.Statements.CompensableActivity> or one of their parents are still in scope when the <xref:System.Activities.Statements.CompensableActivity.CompensationHandler%2A>, <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A> or <xref:System.Activities.Statements.CompensableActivity.CancellationHandler%2A> handlers are executed even if the activity has completed or the workflow has completed.</span></span> <span data-ttu-id="37225-126">워크플로는 두 개의 <xref:System.Activities.Statements.CompensableActivity>로 이루어진 시퀀스로 구성되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="37225-126">The workflow consists of a sequence of two <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="37225-127">첫 번째 활동의 본문에서는 `mySum` 변수가 5와 10의 합계로 설정되어 있고 결과가 출력됩니다.</span><span class="sxs-lookup"><span data-stu-id="37225-127">In the body of the first, the variable `mySum` is set to the sum of 5 and 10 and the result printed.</span></span> <span data-ttu-id="37225-128">두 번째 <xref:System.Activities.Statements.CompensableActivity>의 본문에서는 합계가 기존 합계와 7의 합계로 설정되어 있고 결과가 출력됩니다.</span><span class="sxs-lookup"><span data-stu-id="37225-128">In the body of the second <xref:System.Activities.Statements.CompensableActivity>, the sum is set to the sum of the existing sum and 7 and the result printed.</span></span> <span data-ttu-id="37225-129">사용자 지정 확인 처리기는 합계를 출력하고 7을 뺀 다음 합계를 다시 출력하는 첫 번째 <xref:System.Activities.Statements.CompensableActivity>에 대해 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="37225-129">A custom confirmation handler is defined for the first <xref:System.Activities.Statements.CompensableActivity>, which prints the sum, subtracts 7 and prints the sum again.</span></span> <span data-ttu-id="37225-130">출력된 합계를 검사해 보면 두 <xref:System.Activities.Statements.CompensableActivity>의 본문뿐 아니라 <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A>의 경우에도 변수가 범위 내에 있음을 확실하게 알 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="37225-130">It is clear by inspecting the printed sums that the variable is in scope not only for the bodies of both <xref:System.Activities.Statements.CompensableActivity> but the <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A> as well.</span></span>  
  
#### <a name="to-run-the-sample"></a><span data-ttu-id="37225-131">이 샘플을 실행하려면</span><span class="sxs-lookup"><span data-stu-id="37225-131">To run the sample</span></span>  
  
1.  <span data-ttu-id="37225-132">[!INCLUDE[vs2010](../../../../includes/vs2010-md.md)]에서 솔루션을 로드합니다.</span><span class="sxs-lookup"><span data-stu-id="37225-132">Load the solution in [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)].</span></span>  
  
2.  <span data-ttu-id="37225-133">ConfirmationSample.exe 응용 프로그램을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="37225-133">Run the ConfirmationSample.exe application.</span></span>  
  
3.  <span data-ttu-id="37225-134">다음 출력을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="37225-134">Observe the following output:</span></span>  
  
 <span data-ttu-id="37225-135">**명시적 확인: workflowCompensableActivity1 시작: BodyCompensableActivity2: BodyCompensableActivity1: workflowCompensableActivity2의 확인 HandlerEnd: 확인 HandlerExplicit 보정: 시작 workflowCompensableActivity1: BodyCompensableActivity2: BodyCompensableActivity1: workflowCompensableActivity2의 보정 HandlerEnd: 확인 HandlerCustom 확인 처리기: 시작 workflowCompensableActivity1의: BodyCompensableActivity2: BodyCompensableActivity3: workflowCompensableActivity1의 BodyEnd: 확인 HandlerCompensableActivity2: 확인 HandlerCompensableActivity3: 확인 처리기에서 확인 HandlerVariable 액세스: WorkflowCompensableActivity1의 시작: BodyCompensableActivity1: 합계가: 15CompensableActivity2: BodyCompensableActivity2:는 sumCompensableActivity2 추가 7: 합은 이제: workflowCompensableActivity2의 22End: 확인 HandlerCompensableActivity1: 확인 HandlerCompensableActivity2: 합계가: 22CompensableActivity2: 12를 뺀 후 합은 이제: 10Press ENTER를 종료 합니다.**</span><span class="sxs-lookup"><span data-stu-id="37225-135">**Explicit confirmation:Start of workflowCompensableActivity1: BodyCompensableActivity2: BodyCompensableActivity1: Confirmation HandlerEnd of workflowCompensableActivity2: Confirmation HandlerExplicit compensation:Start of workflowCompensableActivity1: BodyCompensableActivity2: BodyCompensableActivity1: Compensation HandlerEnd of workflowCompensableActivity2: Confirmation HandlerCustom confirmation handler:Start of workflowCompensableActivity1: BodyCompensableActivity2: BodyCompensableActivity3: BodyEnd of workflowCompensableActivity1: Confirmation HandlerCompensableActivity2: Confirmation HandlerCompensableActivity3: Confirmation HandlerVariable access in a confirmation handler:Start of workflowCompensableActivity1: BodyCompensableActivity1: The sum is: 15CompensableActivity2: BodyCompensableActivity2: Adding 7 to the sumCompensableActivity2: The sum is now: 22End of workflowCompensableActivity2: Confirmation HandlerCompensableActivity1: Confirmation HandlerCompensableActivity2: The sum is: 22CompensableActivity2: After subtracting 12 the sum is now: 10Press ENTER to exit.**</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="37225-136">컴퓨터에 이 샘플이 이미 설치되어 있을 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="37225-136">The samples may already be installed on your machine.</span></span> <span data-ttu-id="37225-137">계속하기 전에 다음(기본) 디렉터리를 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="37225-137">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="37225-138">이 디렉터리가 없으면 [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4(.NET Framework 4용 WCF(Windows Communication Foundation) 및 WF(Windows Workflow Foundation) 샘플)](http://go.microsoft.com/fwlink/?LinkId=150780) 로 이동하여 [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] 및 [!INCLUDE[wf1](../../../../includes/wf1-md.md)] 샘플을 모두 다운로드하세요.</span><span class="sxs-lookup"><span data-stu-id="37225-138">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="37225-139">이 샘플은 다음 디렉터리에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="37225-139">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WF\Basic\Compensation\Confirmation`