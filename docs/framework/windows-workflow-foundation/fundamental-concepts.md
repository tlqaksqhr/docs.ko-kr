---
title: "Fundamental Windows Workflow 개념"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 0e930e80-5060-45d2-8a7a-95c0690105d4
caps.latest.revision: "27"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: e1eda65837bc6f58201652938751959f28da63db
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/02/2017
---
# <a name="fundamental-windows-workflow-concepts"></a><span data-ttu-id="009b5-102">Fundamental Windows Workflow 개념</span><span class="sxs-lookup"><span data-stu-id="009b5-102">Fundamental Windows Workflow Concepts</span></span>
<span data-ttu-id="009b5-103">[!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)]의 워크플로 개발에는 일부 개발자들에게 생소한 개념이 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-103">Workflow development in the [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] uses concepts that may be new to some developers.</span></span> <span data-ttu-id="009b5-104">이 항목에서는 이러한 몇 가지 개념과 그 구현 방법에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-104">This topic describes some of the concepts and how they are implemented.</span></span>  
  
## <a name="workflows-and-activities"></a><span data-ttu-id="009b5-105">워크플로 및 활동</span><span class="sxs-lookup"><span data-stu-id="009b5-105">Workflows and Activities</span></span>  
 <span data-ttu-id="009b5-106">워크플로는 프로세스를 모델링하는 구조화된 동작의 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-106">A workflow is a structured collection of actions that models a process.</span></span> <span data-ttu-id="009b5-107">워크플로의 각 동작은 활동으로 모델링됩니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-107">Each action in the workflow is modeled as an activity.</span></span> <span data-ttu-id="009b5-108">호스트는 <xref:System.Activities.WorkflowInvoker>를 사용하여 워크플로를 메서드처럼 호출하고, <xref:System.Activities.WorkflowApplication>를 사용하여 단일 워크플로 인스턴스 실행을 명시적으로 제어하고, <xref:System.ServiceModel.WorkflowServiceHost>를 사용하여 다중 인스턴스 시나리오에서 메시지 기반의 상호 작용을 수행함으로써 워크플로와 상호 작용합니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-108">A host interacts with a workflow by using <xref:System.Activities.WorkflowInvoker> for invoking a workflow as if it were a method,  <xref:System.Activities.WorkflowApplication> for explicit control over the execution of a single workflow instance, and <xref:System.ServiceModel.WorkflowServiceHost> for message-based interactions in multi-instance scenarios.</span></span> <span data-ttu-id="009b5-109">워크플로 단계는 활동 계층으로 정의되기 때문에 계층의 최상위 활동이 워크플로 자체를 정의한다고 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-109">Because steps of the workflow are defined as a hierarchy of activities, the topmost activity in the hierarchy can be said to define the workflow itself.</span></span> <span data-ttu-id="009b5-110">이 계층 모델은 이전 버전의 명시적 `SequentialWorkflow` 및 `StateMachineWorkflow` 클래스를 대체합니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-110">This hierarchy model takes the place of the explicit `SequentialWorkflow` and `StateMachineWorkflow` classes from previous versions.</span></span> <span data-ttu-id="009b5-111">활동 자체는 데이터 액세스에 런타임을 사용할 수 있게 해주는 <xref:System.Activities.Activity> 또는 활동 작성자에 워크플로 런타임을 표시하는 <xref:System.Activities.CodeActivity> 클래스를 사용하여 만든 사용자 지정 활동 또는 다른 활동(<xref:System.Activities.NativeActivity> 클래스를 기반으로 사용하며 일반적으로 XAML을 사용하여 정의됨)의 컬렉션으로 개발됩니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-111">Activities themselves are developed as collections of other activities (using the <xref:System.Activities.Activity> class as a base, usually defined by using XAML) or are custom created by using the <xref:System.Activities.CodeActivity> class, which can use the runtime for data access, or by using the <xref:System.Activities.NativeActivity> class, which exposes the breadth of the workflow runtime to the activity author.</span></span> <span data-ttu-id="009b5-112"><xref:System.Activities.CodeActivity> 및 <xref:System.Activities.NativeActivity>를 사용하여 개발되는 활동은 C# 등과 같은 CLR 호환 언어를 통해 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-112">Activities developed by using <xref:System.Activities.CodeActivity> and <xref:System.Activities.NativeActivity> are created by using CLR-compliant languages such as C#.</span></span>  
  
## <a name="activity-data-model"></a><span data-ttu-id="009b5-113">활동 데이터 모델</span><span class="sxs-lookup"><span data-stu-id="009b5-113">Activity Data Model</span></span>  
 <span data-ttu-id="009b5-114">활동에서는 다음 표에 표시된 형식을 사용하여 데이터를 저장하고 공유합니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-114">Activities store and share data by using the types shown in the following table.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="009b5-115">변수</span><span class="sxs-lookup"><span data-stu-id="009b5-115">Variable</span></span>|<span data-ttu-id="009b5-116">활동에 데이터를 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-116">Stores data in an activity.</span></span>|  
|<span data-ttu-id="009b5-117">인수</span><span class="sxs-lookup"><span data-stu-id="009b5-117">Argument</span></span>|<span data-ttu-id="009b5-118">활동 내부 및 외부로 데이터를 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-118">Moves data into and out of an activity.</span></span>|  
|<span data-ttu-id="009b5-119">식</span><span class="sxs-lookup"><span data-stu-id="009b5-119">Expression</span></span>|<span data-ttu-id="009b5-120">인수 바인딩에 사용되는 높은 반환 값을 가진 활동입니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-120">An activity with an elevated return value used in argument bindings.</span></span>|  
  
## <a name="workflow-runtime"></a><span data-ttu-id="009b5-121">워크플로 런타임</span><span class="sxs-lookup"><span data-stu-id="009b5-121">Workflow Runtime</span></span>  
 <span data-ttu-id="009b5-122">워크플로 런타임은 워크플로가 실행되는 환경입니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-122">The workflow runtime is the environment in which workflows execute.</span></span> <span data-ttu-id="009b5-123"><xref:System.Activities.WorkflowInvoker>는 워크플로를 실행하는 가장 간단한 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-123"><xref:System.Activities.WorkflowInvoker> is the simplest way to execute a workflow.</span></span> <span data-ttu-id="009b5-124">호스트에서는 다음 작업에 <xref:System.Activities.WorkflowInvoker>를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-124">The host uses <xref:System.Activities.WorkflowInvoker> for the following:</span></span>  
  
-   <span data-ttu-id="009b5-125">워크플로를 비동기적으로 호출</span><span class="sxs-lookup"><span data-stu-id="009b5-125">To synchronously invoke a workflow.</span></span>  
  
-   <span data-ttu-id="009b5-126">워크플로에 입력 제공 또는 워크플로에서 출력 검색</span><span class="sxs-lookup"><span data-stu-id="009b5-126">To provide input to, or retrieve output from a workflow.</span></span>  
  
-   <span data-ttu-id="009b5-127">활동에 사용할 확장 추가</span><span class="sxs-lookup"><span data-stu-id="009b5-127">To add extensions to be used by activities.</span></span>  
  
 <span data-ttu-id="009b5-128"><xref:System.Activities.ActivityInstance>는 호스트에서 런타임과 상호 작용하는 데 사용할 수 있는 스레드로부터 안전한 프록시입니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-128"><xref:System.Activities.ActivityInstance> is the thread-safe proxy that hosts can use to interact with the runtime.</span></span> <span data-ttu-id="009b5-129">호스트에서는 다음 작업에 <xref:System.Activities.ActivityInstance>를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-129">The host uses <xref:System.Activities.ActivityInstance> for the following:</span></span>  
  
-   <span data-ttu-id="009b5-130">인스턴스를 만들거나 인스턴스 저장소에서 로드하여 인스턴스 가져오기</span><span class="sxs-lookup"><span data-stu-id="009b5-130">To acquire an instance by creating it or loading it from an instance store.</span></span>  
  
-   <span data-ttu-id="009b5-131">인스턴스 수명 주기 이벤트 알림 받기</span><span class="sxs-lookup"><span data-stu-id="009b5-131">To be notified of instance life-cycle events.</span></span>  
  
-   <span data-ttu-id="009b5-132">워크플로 실행 제어</span><span class="sxs-lookup"><span data-stu-id="009b5-132">To control workflow execution.</span></span>  
  
-   <span data-ttu-id="009b5-133">워크플로에 입력 제공 또는 워크플로에서 출력 검색</span><span class="sxs-lookup"><span data-stu-id="009b5-133">To provide input to, or retrieve output from a workflow.</span></span>  
  
-   <span data-ttu-id="009b5-134">워크플로 연속을 표시하고 워크플로에 값 전달</span><span class="sxs-lookup"><span data-stu-id="009b5-134">To signal a workflow continuation and pass values into the workflow.</span></span>  
  
-   <span data-ttu-id="009b5-135">워크플로 데이터 유지</span><span class="sxs-lookup"><span data-stu-id="009b5-135">To persist workflow data.</span></span>  
  
-   <span data-ttu-id="009b5-136">활동에 사용할 확장 추가</span><span class="sxs-lookup"><span data-stu-id="009b5-136">To add extensions to be used by activities.</span></span>  
  
 <span data-ttu-id="009b5-137">활동에서는 <xref:System.Activities.ActivityContext> 또는 <xref:System.Activities.NativeActivityContext> 등 적절한 <xref:System.Activities.CodeActivityContext> 파생 클래스를 사용하여 워크플로 런타임 환경에 액세스합니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-137">Activities gain access to the workflow runtime environment by using the appropriate <xref:System.Activities.ActivityContext> derived class, such as <xref:System.Activities.NativeActivityContext> or <xref:System.Activities.CodeActivityContext>.</span></span> <span data-ttu-id="009b5-138">또한 인수 및 변수 확인, 자식 활동 예약 등과 같은 용도로 이 클래스를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-138">They use this for resolving arguments and variables, for scheduling child activities, and for many other purposes.</span></span>  
  
## <a name="services"></a><span data-ttu-id="009b5-139">서비스</span><span class="sxs-lookup"><span data-stu-id="009b5-139">Services</span></span>  
 <span data-ttu-id="009b5-140">워크플로는 메시징 활동을 통해 서비스를 구현하고 액세스하는 자연스러운 방법을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-140">Workflows provide a natural way to implement and access loosely-coupled services, using messaging activities.</span></span> <span data-ttu-id="009b5-141">메시지 활동은 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)]에 포함되어 있으며 데이터를 워크플로 안으로 가져오거나 밖으로 내보내는 데 사용되는 기본적인 메커니즘입니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-141">Messaging activities are built on [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] and are the primary mechanism used to get data into and out of a workflow.</span></span> <span data-ttu-id="009b5-142">원하는 메시지 교환 패턴의 종류를 모델링하여 메시징 활동을 함께 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-142">You can compose messaging activities together to model any kind of message exchange pattern you wish.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="009b5-143">참조 [메시징 작업](../../../docs/framework/wcf/feature-details/messaging-activities.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-143"> see [Messaging Activities](../../../docs/framework/wcf/feature-details/messaging-activities.md).</span></span> <span data-ttu-id="009b5-144"><xref:System.ServiceModel.Activities.WorkflowServiceHost> 클래스는 워크플로 서비스를 호스트하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-144">Workflow services are hosted using the <xref:System.ServiceModel.Activities.WorkflowServiceHost> class.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="009b5-145">[호스팅 워크플로 서비스 개요](../../../docs/framework/wcf/feature-details/hosting-workflow-services-overview.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-145"> [Hosting Workflow Services Overview](../../../docs/framework/wcf/feature-details/hosting-workflow-services-overview.md).</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="009b5-146">워크플로 서비스 참조 [워크플로 서비스](../../../docs/framework/wcf/feature-details/workflow-services.md)</span><span class="sxs-lookup"><span data-stu-id="009b5-146"> workflow services see [Workflow Services](../../../docs/framework/wcf/feature-details/workflow-services.md)</span></span>  
  
## <a name="persistence-unloading-and-long-running-workflows"></a><span data-ttu-id="009b5-147">워크플로 유지, 언로드 및 장기 실행</span><span class="sxs-lookup"><span data-stu-id="009b5-147">Persistence, Unloading, and Long-Running Workflows</span></span>  
 <span data-ttu-id="009b5-148">Windows Workflow는 다음을 제공하여 장기 실행 대응 프로그램을 쉽게 작성할 수 있도록 해줍니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-148">Windows Workflow simplifies the authoring of long-running reactive programs by providing:</span></span>  
  
-   <span data-ttu-id="009b5-149">외부 입력에 액세스하는 활동</span><span class="sxs-lookup"><span data-stu-id="009b5-149">Activities that access external input.</span></span>  
  
-   <span data-ttu-id="009b5-150">호스트 수신기에서 다시 시작할 수 있는 <xref:System.Activities.Bookmark> 개체를 만드는 기능</span><span class="sxs-lookup"><span data-stu-id="009b5-150">The ability to create <xref:System.Activities.Bookmark> objects that can be resumed by a host listener.</span></span>  
  
-   <span data-ttu-id="009b5-151">워크플로 데이터를 유지하고 워크플로를 언로드한 다음 특정 워크플로의 <xref:System.Activities.Bookmark> 개체 재시작에 응답하여 워크플로를 다시 로드하여 활성화할 수 있는 기능</span><span class="sxs-lookup"><span data-stu-id="009b5-151">The ability to persist a workflow’s data and unload the workflow, and then reload and reactivate the workflow in response to the resumption of <xref:System.Activities.Bookmark> objects in a particular workflow.</span></span>  
  
 <span data-ttu-id="009b5-152">워크플로에서는 더 이상 실행할 활동이 없거나 현재 실행 중인 모든 활동이 입력 대기 중일 때까지 활동을 계속 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-152">A workflow continuously executes activities until there are no more activities to execute or until all currently executing activities are waiting for input.</span></span> <span data-ttu-id="009b5-153">후자의 입력 대기 상태에서는 워크플로가 유휴 상태가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-153">In this latter state, the workflow is idle.</span></span> <span data-ttu-id="009b5-154">일반적으로 호스트는 유휴 상태인 워크플로를 언로드한 다음 계속 실행하라는 메시지를 받으면 해당 워크플로를 다시 로드합니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-154">It is common for a host to unload workflows that have gone idle and to reload them to continue execution when a message arrives.</span></span> <span data-ttu-id="009b5-155"><xref:System.ServiceModel.Activities.WorkflowServiceHost>는 이를 위한 기능과 확장 가능한 언로드 정책을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-155"><xref:System.ServiceModel.Activities.WorkflowServiceHost> provides functionality for this feature and provides an extensible unload policy.</span></span> <span data-ttu-id="009b5-156">별도로 유지할 수 없는 일시적 상태 또는 데이터를 사용하는 실행 블록의 경우 활동에서 <xref:System.Activities.NoPersistHandle>를 사용하여 호스트에 이를 유지하지 않도록 지시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-156">For blocks of execution that use volatile state data or other data that cannot be persisted, an activity can indicate to a host that it should not be persisted by using the <xref:System.Activities.NoPersistHandle>.</span></span> <span data-ttu-id="009b5-157">또한 워크플로에서는 <xref:System.Activities.Statements.Persist> 활동을 사용하여 데이터를 영구 저장 매체에 명시적으로 유지할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="009b5-157">A workflow can also explicitly persist its data to a durable storage medium by using the <xref:System.Activities.Statements.Persist> activity.</span></span>
