---
title: 데이터 서비스 쿼리(WCF Data Services)
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework-oob
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: ''
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, client library
- WCF Data Services, querying
- WCF Data Services, accessing data
ms.assetid: 823e9444-27aa-4f1f-be8e-0486d67f54c0
caps.latest.revision: 7
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: 35370b5d4757d16c766499c1f3ea8254c2d90116
ms.sourcegitcommit: 86adcc06e35390f13c1e372c36d2e044f1fc31ef
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/26/2018
---
# <a name="querying-the-data-service-wcf-data-services"></a><span data-ttu-id="489c5-102">데이터 서비스 쿼리(WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="489c5-102">Querying the Data Service (WCF Data Services)</span></span>
<span data-ttu-id="489c5-103">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 클라이언트 라이브러리를 사용하면 LINQ(Language-Integrated Query) 사용을 비롯한 익숙한 [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] 프로그래밍 패턴을 사용하여 데이터 서비스에 대해 쿼리를 실행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-103">The [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library enables you to execute queries against a data service by using familiar [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] programming patterns, including using language integrated query (LINQ).</span></span> <span data-ttu-id="489c5-104">클라이언트 라이브러리는 클라이언트에서 <xref:System.Data.Services.Client.DataServiceQuery%601> 클래스의 인스턴스로 정의된 쿼리를 HTTP GET 요청 메시지로 변환합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-104">The client library translates a query, which is defined on the client as an instance of the <xref:System.Data.Services.Client.DataServiceQuery%601> class, into an HTTP GET request message.</span></span> <span data-ttu-id="489c5-105">라이브러리는 응답 메시지를 받아 클라이언트 데이터 서비스 클래스의 인스턴스로 변환 합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-105">The library receives the response message and translates it into instances of client data service classes.</span></span> <span data-ttu-id="489c5-106">이러한 클래스는 <xref:System.Data.Services.Client.DataServiceContext>가 속해 있는 <xref:System.Data.Services.Client.DataServiceQuery%601>에 의해 추적됩니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-106">These classes are tracked by the <xref:System.Data.Services.Client.DataServiceContext> to which the <xref:System.Data.Services.Client.DataServiceQuery%601> belongs.</span></span>  
  
## <a name="data-service-queries"></a><span data-ttu-id="489c5-107">데이터 서비스 쿼리</span><span class="sxs-lookup"><span data-stu-id="489c5-107">Data Service Queries</span></span>  
 <span data-ttu-id="489c5-108"><xref:System.Data.Services.Client.DataServiceQuery%601> 제네릭 클래스는 0개 이상의 엔터티 형식 인스턴스의 컬렉션을 반환하는 쿼리를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-108">The <xref:System.Data.Services.Client.DataServiceQuery%601> generic class represents a query that returns a collection of zero or more entity type instances.</span></span> <span data-ttu-id="489c5-109">데이터 서비스 쿼리는 항상 기존 데이터 서비스 컨텍스트에 속합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-109">A data service query always belongs to an existing data service context.</span></span> <span data-ttu-id="489c5-110">이 컨텍스트는 쿼리를 작성하고 실행하는 데 필요한 서비스 URI 및 메타데이터 정보를 유지 관리합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-110">This context maintains the service URI and metadata information that is required to compose and execute the query.</span></span>  
  
 <span data-ttu-id="489c5-111">사용 하는 경우는 **서비스 참조 추가** 데이터 서비스를 추가 하 여 대화 상자는 [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]-만들어집니다 기반된 클라이언트 응용 프로그램, 엔터티 컨테이너 클래스에서 상속 되는 <xref:System.Data.Services.Client.DataServiceContext> 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-111">When you use the **Add Service Reference** dialog to add a data service to a [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]-based client application, an entity container class is created that inherits from the <xref:System.Data.Services.Client.DataServiceContext> class.</span></span> <span data-ttu-id="489c5-112">이 클래스에는 형식화된 <xref:System.Data.Services.Client.DataServiceQuery%601> 인스턴스를 반환하는 속성이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-112">This class includes properties that return typed <xref:System.Data.Services.Client.DataServiceQuery%601> instances.</span></span> <span data-ttu-id="489c5-113">데이터 서비스에서 노출하는 엔터티 집합마다 속성이 하나씩 있습니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-113">There is one property for each entity set that the data service exposes.</span></span> <span data-ttu-id="489c5-114">이러한 속성을 사용하면 형식화된 <xref:System.Data.Services.Client.DataServiceQuery%601> 인스턴스를 보다 쉽게 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-114">These properties make it easier to create an instance of a typed <xref:System.Data.Services.Client.DataServiceQuery%601>.</span></span>  
  
 <span data-ttu-id="489c5-115">쿼리는 다음 시나리오에서 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-115">A query is executed in the following scenarios:</span></span>  
  
-   <span data-ttu-id="489c5-116">결과가 다음과 같이 암시적으로 열거되는 경우</span><span class="sxs-lookup"><span data-stu-id="489c5-116">When results are enumerated implicitly, such as:</span></span>  
  
    -   <span data-ttu-id="489c5-117"><xref:System.Data.Services.Client.DataServiceContext>(C#) 또는 `foreach`(Visual Basic) 루프 중과 같이 엔터티 집합을 나타내는 `For Each`에 대한 속성이 열거되는 경우</span><span class="sxs-lookup"><span data-stu-id="489c5-117">When a property on the <xref:System.Data.Services.Client.DataServiceContext> that represents and entity set is enumerated, such as during a `foreach` (C#) or `For Each` (Visual Basic) loop.</span></span>  
  
    -   <span data-ttu-id="489c5-118">쿼리가 `List` 컬렉션에 할당된 경우</span><span class="sxs-lookup"><span data-stu-id="489c5-118">When the query is assigned to a `List` collection.</span></span>  
  
-   <span data-ttu-id="489c5-119"><xref:System.Data.Services.Client.DataServiceQuery%601.Execute%2A> 또는 <xref:System.Data.Services.Client.DataServiceQuery%601.BeginExecute%2A> 메서드를 명시적으로 호출한 경우</span><span class="sxs-lookup"><span data-stu-id="489c5-119">When the <xref:System.Data.Services.Client.DataServiceQuery%601.Execute%2A> or <xref:System.Data.Services.Client.DataServiceQuery%601.BeginExecute%2A> method is explicitly called.</span></span>  
  
-   <span data-ttu-id="489c5-120"><xref:System.Linq.Enumerable.First%2A>, <xref:System.Linq.Enumerable.Single%2A> 등의 LINQ 쿼리 실행 연산자를 호출한 경우.</span><span class="sxs-lookup"><span data-stu-id="489c5-120">When a LINQ query execution operator, such as <xref:System.Linq.Enumerable.First%2A> or <xref:System.Linq.Enumerable.Single%2A> is called.</span></span>  
  
 <span data-ttu-id="489c5-121">다음 쿼리를 실행하면 Northwind 데이터 서비스에 있는 모든 `Customers` 엔터티가 반환됩니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-121">The following query, when it is executed, returns all `Customers` entities in the Northwind data service:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#GetAllCustomersSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#getallcustomersspecific)]  
 [!code-vb[Astoria Northwind Client#GetAllCustomersSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#getallcustomersspecific)]  
  
 <span data-ttu-id="489c5-122">자세한 내용은 참조 [하는 방법: 데이터 서비스 쿼리 실행](../../../../docs/framework/data/wcf/how-to-execute-data-service-queries-wcf-data-services.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-122">For more information, see [How to: Execute Data Service Queries](../../../../docs/framework/data/wcf/how-to-execute-data-service-queries-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="489c5-123">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 클라이언트 쿼리를 사용 하는 경우 등의 런타임에 바인딩된 개체에 대 한 지원의 *동적* C#의 형식입니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-123">The [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client supports queries for late-bound objects, such as when you use the *dynamic* type in C#.</span></span> <span data-ttu-id="489c5-124">하지만 성능상의 이유로 데이터 서비스에 대해 항상 강력한 형식의 쿼리를 작성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-124">However, for performance reasons you should always compose strongly-typed queries against the data service.</span></span> <span data-ttu-id="489c5-125"><xref:System.Tuple> 유형 및 동적 개체는 클라이언트에서 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-125">The <xref:System.Tuple> type and dynamic objects are not supported by the client.</span></span>  
  
## <a name="linq-queries"></a><span data-ttu-id="489c5-126">LINQ 쿼리</span><span class="sxs-lookup"><span data-stu-id="489c5-126">LINQ Queries</span></span>  
 <span data-ttu-id="489c5-127">때문에 <xref:System.Data.Services.Client.DataServiceQuery%601> 클래스가 구현 하는 <xref:System.Linq.IQueryable%601> LINQ로 정의 된 인터페이스는 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 클라이언트 라이브러리는 데이터 서비스에 대해 평가 되는 쿼리 식을 나타내는 URI를 엔터티 집합 데이터에 대 한 LINQ 쿼리를 변환할 수 리소스입니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-127">Because the <xref:System.Data.Services.Client.DataServiceQuery%601> class implements the <xref:System.Linq.IQueryable%601> interface defined by LINQ, the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library is able to transform LINQ queries against entity set data into a URI that represents a query expression evaluated against a data service resource.</span></span> <span data-ttu-id="489c5-128">다음 예제는 운송료가 $30를 초과하는 <xref:System.Data.Services.Client.DataServiceQuery%601>를 반환하고 결과를 운송료순으로 정렬하는 이전 `Orders`와 동일한 LINQ 쿼리입니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-128">The following example is a LINQ query that is equivalent to the previous <xref:System.Data.Services.Client.DataServiceQuery%601> that returns `Orders` that have a freight cost of more than $30 and orders the results by the freight cost:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#AddQueryOptionsLinqSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#addqueryoptionslinqspecific)]  
 [!code-vb[Astoria Northwind Client#AddQueryOptionsLinqSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#addqueryoptionslinqspecific)]  
  
 <span data-ttu-id="489c5-129">이 LINQ 쿼리는 다음 쿼리는 Northwind 기반에 대해 실행 되는 URI로 변환 됩니다 [퀵 스타트](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md) 데이터 서비스:</span><span class="sxs-lookup"><span data-stu-id="489c5-129">This LINQ query is translated into the following query URI that is executed against the Northwind-based [quickstart](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md) data service:</span></span>  
  
```  
http://localhost:12345/Northwind.svc/Orders?Orderby=ShippedDate&?filter=Freight gt 30  
```  
  
> [!NOTE]
>  <span data-ttu-id="489c5-130">LINQ 구문으로 표현할 수 있는 쿼리 집합은 데이터 서비스에 사용되는 REST(Representational State Transfer) 기반 URI 구문에서 사용할 수 있는 것보다 광범위합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-130">The set of queries expressible in the LINQ syntax is broader than those enabled in the representational state transfer (REST)-based URI syntax that is used by data services.</span></span> <span data-ttu-id="489c5-131">쿼리를 대상 데이터 서비스의 URI에 매핑할 수 없으면 <xref:System.NotSupportedException>이 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-131">A <xref:System.NotSupportedException> is raised when the query cannot be mapped to a URI in the target data service.</span></span>  
  
 <span data-ttu-id="489c5-132">자세한 내용은 참조 [LINQ 고려 사항](../../../../docs/framework/data/wcf/linq-considerations-wcf-data-services.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-132">For more information, see [LINQ Considerations](../../../../docs/framework/data/wcf/linq-considerations-wcf-data-services.md).</span></span>  
  
## <a name="adding-query-options"></a><span data-ttu-id="489c5-133">쿼리 옵션 추가</span><span class="sxs-lookup"><span data-stu-id="489c5-133">Adding Query Options</span></span>  
 <span data-ttu-id="489c5-134">데이터 서비스 쿼리는 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]에서 제공하는 모든 쿼리 옵션을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-134">Data service queries support all the query options that [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]s provides.</span></span> <span data-ttu-id="489c5-135">쿼리 옵션을 <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> 인스턴스에 추가하려면 <xref:System.Data.Services.Client.DataServiceQuery%601> 메서드를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-135">You call the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> method to append query options to a <xref:System.Data.Services.Client.DataServiceQuery%601> instance.</span></span> <span data-ttu-id="489c5-136"><xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A>은 원래 쿼리와 동일하지만 새 쿼리 옵션 집합이 포함된 새 <xref:System.Data.Services.Client.DataServiceQuery%601> 인스턴스를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-136"><xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> returns a new <xref:System.Data.Services.Client.DataServiceQuery%601> instance that is equivalent to the original query but with the new query option set.</span></span> <span data-ttu-id="489c5-137">다음 쿼리를 실행하면 `Orders` 값으로 필터링되고 `Freight`를 기준으로 내림차순으로 정렬된 `OrderID`가 반환됩니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-137">The following query, when executed, returns `Orders` that are filtered by the `Freight` value and ordered by the `OrderID`, descending:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#AddQueryOptionsSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#addqueryoptionsspecific)]  
 [!code-vb[Astoria Northwind Client#AddQueryOptionsSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#addqueryoptionsspecific)]  
  
 <span data-ttu-id="489c5-138">`$orderby` 쿼리 옵션을 사용하여 단일 속성에 따라 쿼리를 정렬하고 필터링할 수 있습니다. 다음 예제에서는 반환된 `Orders` 개체를 `Freight` 속성의 값에 따라 필터링하고 정렬합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-138">You can use the `$orderby` query option to both order and filter a query based on a single property, as in the following example that filters and orders the returned `Orders` objects based on the value of the `Freight` property:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#OrderWithFilter](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#orderwithfilter)]
 [!code-vb[Astoria Northwind Client#OrderWithFilter](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#orderwithfilter)]  
  
 <span data-ttu-id="489c5-139"><xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> 메서드를 연속적으로 호출하여 복잡한 쿼리 식을 생성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-139">You can call the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> method consecutively to construct complex query expressions.</span></span> <span data-ttu-id="489c5-140">자세한 내용은 참조 [하는 방법: 데이터 서비스 쿼리에 쿼리 옵션 추가](../../../../docs/framework/data/wcf/how-to-add-query-options-to-a-data-service-query-wcf-data-services.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-140">For more information, see [How to: Add Query Options to a Data Service Query](../../../../docs/framework/data/wcf/how-to-add-query-options-to-a-data-service-query-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="489c5-141">쿼리 옵션을 통해 LINQ 쿼리의 구문 구성 요소를 표현할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-141">Query options give you another way to express the syntactic components of a LINQ query.</span></span> <span data-ttu-id="489c5-142">자세한 내용은 참조 [LINQ 고려 사항](../../../../docs/framework/data/wcf/linq-considerations-wcf-data-services.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-142">For more information, see [LINQ Considerations](../../../../docs/framework/data/wcf/linq-considerations-wcf-data-services.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="489c5-143">`$select` 쿼리 옵션은 <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> 메서드를 사용하여 쿼리 URI에 추가할 수 없습니다. </span><span class="sxs-lookup"><span data-stu-id="489c5-143">The `$select` query option cannot be added to a query URI by using the <xref:System.Data.Services.Client.DataServiceQuery%601.AddQueryOption%2A> method.</span></span> <span data-ttu-id="489c5-144">LINQ <xref:System.Linq.Enumerable.Select%2A> 메서드를 사용하여 클라이언트에서 요청 URI에 `$select` 쿼리 옵션을 생성하도록 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-144">We recommend that you use the LINQ <xref:System.Linq.Enumerable.Select%2A> method to have the client generate the `$select` query option in the request URI.</span></span>  
  
<a name="executingQueries"></a>   
## <a name="client-versus-server-execution"></a><span data-ttu-id="489c5-145">클라이언트 및 서버 실행</span><span class="sxs-lookup"><span data-stu-id="489c5-145">Client versus Server Execution</span></span>  
 <span data-ttu-id="489c5-146">클라이언트는 쿼리를 두 부분으로 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-146">The client executes a query in two parts.</span></span> <span data-ttu-id="489c5-147">가능한 경우 쿼리의 식이 클라이언트에서 먼저 계산된 다음 URI 기반 쿼리가 생성되고 서비스의 데이터와 비교하여 평가되도록 데이터 서비스로 보내집니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-147">Whenever possible, expressions in a query are first evaluated on the client, and then a URI-based query is generated and sent to the data service for evaluation against data in the service.</span></span> <span data-ttu-id="489c5-148">다음 LINQ 쿼리를 살펴보세요.</span><span class="sxs-lookup"><span data-stu-id="489c5-148">Consider the following LINQ query:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#LinqQueryClientEvalSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#linqqueryclientevalspecific)]  
 [!code-vb[Astoria Northwind Client#LinqQueryClientEvalSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#linqqueryclientevalspecific)]  
  
 <span data-ttu-id="489c5-149">이 예에서는 `(basePrice – (basePrice * discount))` 식이 클라이언트에서 계산됩니다. </span><span class="sxs-lookup"><span data-stu-id="489c5-149">In this example, the expression `(basePrice – (basePrice * discount))` is evaluated on the client.</span></span> <span data-ttu-id="489c5-150">이런 이유로, 데이터 서비스로 보내진 실제 쿼리 URI `http://localhost:12345/northwind.svc/Products()?$filter=(UnitPrice gt 90.00M) and substringof('bike',ProductName)`에는 필터 절의 `90`에 대해 계산된 10진수 값이 이미 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-150">Because of this, the actual query URI `http://localhost:12345/northwind.svc/Products()?$filter=(UnitPrice gt 90.00M) and substringof('bike',ProductName)` that is sent to the data service contains the already calculated decimal value of `90` in the filter clause.</span></span> <span data-ttu-id="489c5-151">부분 문자열 식을 포함하는 필터링 식의 다른 부분은 데이터 서비스에서 계산됩니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-151">The other parts of the filtering expression, including the substring expression, are evaluated by the data service.</span></span> <span data-ttu-id="489c5-152">클라이언트에서 계산된 식은 CLR(공용 언어 런타임) 의미 체계를 따르지만 데이터 서비스로 보내지는 식은 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 프로토콜의 데이터 서비스 구현을 활용합니다. </span><span class="sxs-lookup"><span data-stu-id="489c5-152">Expressions that are evaluated on the client follow common language runtime (CLR) semantics, while expressions sent to the data service rely on the data service implementation of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] Protocol.</span></span> <span data-ttu-id="489c5-153">또한 이와 같은 개별 계산으로 인해 클라이언트와 서비스가 서로 다른 시간대에 시간 기반의 계산을 수행하는 경우와 같은 예상치 못한 결과가 발생할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-153">You should also be aware of scenarios where this separate evaluation may cause unexpected results, such as when both the client and service perform time-based evaluations in different time zones.</span></span>  
  
## <a name="query-responses"></a><span data-ttu-id="489c5-154">쿼리 응답</span><span class="sxs-lookup"><span data-stu-id="489c5-154">Query Responses</span></span>  
 <span data-ttu-id="489c5-155"><xref:System.Data.Services.Client.DataServiceQuery%601>를 실행하면 요청된 엔터티 형식의 <xref:System.Collections.Generic.IEnumerable%601>이 반환됩니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-155">When executed, the <xref:System.Data.Services.Client.DataServiceQuery%601> returns an <xref:System.Collections.Generic.IEnumerable%601> of the requested entity type.</span></span> <span data-ttu-id="489c5-156">이 쿼리 결과는 다음 예제와 같이 <xref:System.Data.Services.Client.QueryOperationResponse%601> 개체로 캐스팅될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-156">This query result can be cast to a <xref:System.Data.Services.Client.QueryOperationResponse%601> object, as in the following example:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#GetResponseSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#getresponsespecific)]
 [!code-vb[Astoria Northwind Client#GetResponseSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#getresponsespecific)]  
  
 <span data-ttu-id="489c5-157">데이터 서비스의 엔터티를 나타내는 엔터티 형식 인스턴스는 개체 구체화라는 프로세스에 의해 클라이언트에서 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-157">The entity type instances that represent entities in the data service are created on the client by a process called object materialization.</span></span> <span data-ttu-id="489c5-158">자세한 내용은 참조 [개체 구체화](../../../../docs/framework/data/wcf/object-materialization-wcf-data-services.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-158">For more information, see [Object Materialization](../../../../docs/framework/data/wcf/object-materialization-wcf-data-services.md).</span></span> <span data-ttu-id="489c5-159"><xref:System.Data.Services.Client.QueryOperationResponse%601> 개체는 <xref:System.Collections.Generic.IEnumerable%601>을 구현하여 쿼리 결과에 대한 액세스를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-159">The <xref:System.Data.Services.Client.QueryOperationResponse%601> object implements <xref:System.Collections.Generic.IEnumerable%601> to provide access to the results of the query.</span></span>  
  
 <span data-ttu-id="489c5-160"><xref:System.Data.Services.Client.QueryOperationResponse%601>에는 쿼리 결과에 대한 추가 정보에 액세스할 수 있도록 하는 다음 멤버도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-160">The <xref:System.Data.Services.Client.QueryOperationResponse%601> also has the following members that enable you to access additional information about a query result:</span></span>  
  
-   <span data-ttu-id="489c5-161"><xref:System.Data.Services.Client.OperationResponse.Error%2A> - 작업에서 오류가 throw된 경우 해당 오류를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-161"><xref:System.Data.Services.Client.OperationResponse.Error%2A> - gets an error thrown by the operation, if any has occurred.</span></span>  
  
-   <span data-ttu-id="489c5-162"><xref:System.Data.Services.Client.OperationResponse.Headers%2A> - 쿼리 응답과 연결된 HTTP 응답 헤더의 컬렉션을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-162"><xref:System.Data.Services.Client.OperationResponse.Headers%2A> - contains the collection of HTTP response headers associated with the query response.</span></span>  
  
-   <span data-ttu-id="489c5-163"><xref:System.Data.Services.Client.QueryOperationResponse.Query%2A> - <xref:System.Data.Services.Client.DataServiceQuery%601>를 생성한 원래 <xref:System.Data.Services.Client.QueryOperationResponse%601>를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-163"><xref:System.Data.Services.Client.QueryOperationResponse.Query%2A> - gets the original <xref:System.Data.Services.Client.DataServiceQuery%601> that generated the <xref:System.Data.Services.Client.QueryOperationResponse%601>.</span></span>  
  
-   <span data-ttu-id="489c5-164"><xref:System.Data.Services.Client.OperationResponse.StatusCode%2A> - 쿼리 응답의 HTTP 응답 코드를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-164"><xref:System.Data.Services.Client.OperationResponse.StatusCode%2A> - gets the HTTP response code for the query response.</span></span>  
  
-   <span data-ttu-id="489c5-165"><xref:System.Data.Services.Client.QueryOperationResponse%601.TotalCount%2A> - <xref:System.Data.Services.Client.DataServiceQuery%601.IncludeTotalCount%2A> 메서드가 <xref:System.Data.Services.Client.DataServiceQuery%601>에서 호출된 경우 엔터티 집합의 총 엔터티 수를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-165"><xref:System.Data.Services.Client.QueryOperationResponse%601.TotalCount%2A> - gets the total number of entities in the entity set when the <xref:System.Data.Services.Client.DataServiceQuery%601.IncludeTotalCount%2A> method was called on the <xref:System.Data.Services.Client.DataServiceQuery%601>.</span></span>  
  
-   <span data-ttu-id="489c5-166"><xref:System.Data.Services.Client.QueryOperationResponse.GetContinuation%2A> - 결과의 다음 페이지 URI를 포함하는 <xref:System.Data.Services.Client.DataServiceQueryContinuation> 개체를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-166"><xref:System.Data.Services.Client.QueryOperationResponse.GetContinuation%2A> - returns a <xref:System.Data.Services.Client.DataServiceQueryContinuation> object that contains the URI of the next page of results.</span></span>  
  
 <span data-ttu-id="489c5-167">기본적으로 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 만 쿼리 URI에 의해 명시적으로 선택 된 데이터를 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-167">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] only returns data that is explicitly selected by the query URI.</span></span> <span data-ttu-id="489c5-168">이에 따라 필요한 경우 데이터 서비스에서 추가 데이터를 명시적으로 로드하는 옵션이 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-168">This gives you the option to explicitly load additional data from the data service when it is needed.</span></span> <span data-ttu-id="489c5-169">데이터 서비스에서 데이터를 명시적으로 로드할 때마다 요청이 데이터 서비스로 전송됩니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-169">A request is sent to the data service each time you explicitly load data from the data service.</span></span> <span data-ttu-id="489c5-170">명시적으로 로드될 수 있는 데이터에는 관련 엔터티, 페이징 응답 데이터 및 이진 데이터 스트림이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-170">Data that can be explicitly loaded includes related entities, paged response data, and binary data streams.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="489c5-171">데이터 서비스가 페이징 응답을 반환할 수 있기 때문에 응용 프로그램에서 프로그래밍 패턴을 사용하여 페이징 데이터 서비스 응답을 처리하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-171">Because a data service may return a paged response, we recommend that your application use the programming pattern to handle a paged data service response.</span></span> <span data-ttu-id="489c5-172">자세한 내용은 참조 [지연 콘텐츠 로드](../../../../docs/framework/data/wcf/loading-deferred-content-wcf-data-services.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-172">For more information, see [Loading Deferred Content](../../../../docs/framework/data/wcf/loading-deferred-content-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="489c5-173">쿼리에서 반환되는 데이터의 양은 엔터티의 특정 속성만 응답에서 반환되도록 지정하여 줄일 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-173">The amount of data returned by a query can also be reduced by specifying that only certain properties of an entity are returned in the response.</span></span> <span data-ttu-id="489c5-174">자세한 내용은 참조 [쿼리 프로젝션](../../../../docs/framework/data/wcf/query-projections-wcf-data-services.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-174">For more information, see [Query Projections](../../../../docs/framework/data/wcf/query-projections-wcf-data-services.md).</span></span>  
  
## <a name="getting-a-count-of-the-total-number-of-entities-in-the-set"></a><span data-ttu-id="489c5-175">집합의 총 엔터티 수 가져오기</span><span class="sxs-lookup"><span data-stu-id="489c5-175">Getting a Count of the Total Number of Entities in the Set</span></span>  
 <span data-ttu-id="489c5-176">일부 시나리오에서는 쿼리에서 반환되는 수뿐만 아니라 엔터티 집합의 총 엔터티 수를 아는 것이 유용합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-176">In some scenarios, it is helpful to know the total number of entities in an entity set and not merely the number returned by the query.</span></span> <span data-ttu-id="489c5-177">집합에 있는 이 총 엔터티 수가 쿼리 결과에 포함되도록 요청하려면 <xref:System.Data.Services.Client.DataServiceQuery%601.IncludeTotalCount%2A>의 <xref:System.Data.Services.Client.DataServiceQuery%601> 메서드를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-177">Call the <xref:System.Data.Services.Client.DataServiceQuery%601.IncludeTotalCount%2A> method on the <xref:System.Data.Services.Client.DataServiceQuery%601> to request that this total count of entities in the set be included with the query result.</span></span> <span data-ttu-id="489c5-178">이 경우 반환된 <xref:System.Data.Services.Client.QueryOperationResponse%601.TotalCount%2A>의 <xref:System.Data.Services.Client.QueryOperationResponse%601> 속성은 집합의 총 엔터티 수를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-178">In this case, the <xref:System.Data.Services.Client.QueryOperationResponse%601.TotalCount%2A> property of the returned <xref:System.Data.Services.Client.QueryOperationResponse%601> returns the total number of entities in the set.</span></span>  
  
 <span data-ttu-id="489c5-179"><xref:System.Int32> 또는 <xref:System.Int64> 메서드를 호출하여 각각 <xref:System.Linq.Enumerable.Count%2A> 또는 <xref:System.Linq.Enumerable.LongCount%2A> 값으로 집합의 총 엔터티 수만 가져올 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-179">You can also get only the total count of entities in the set either as an <xref:System.Int32> or as a <xref:System.Int64> value by calling the <xref:System.Linq.Enumerable.Count%2A> or <xref:System.Linq.Enumerable.LongCount%2A> methods respectively.</span></span> <span data-ttu-id="489c5-180">이러한 메서드를 호출하면 <xref:System.Data.Services.Client.QueryOperationResponse%601>가 반환되지 않고 개수 값만 반환됩니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-180">When these methods are called, a <xref:System.Data.Services.Client.QueryOperationResponse%601> is not returned; only the count value is returned.</span></span> <span data-ttu-id="489c5-181">자세한 내용은 참조 [하는 방법:는 수의 엔터티 쿼리에서 반환 된 결정](../../../../docs/framework/data/wcf/number-of-entities-returned-by-a-query-wcf.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="489c5-181">For more information, see [How to: Determine the Number of Entities Returned by a Query](../../../../docs/framework/data/wcf/number-of-entities-returned-by-a-query-wcf.md).</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="489c5-182">섹션 내용</span><span class="sxs-lookup"><span data-stu-id="489c5-182">In This Section</span></span>  
 [<span data-ttu-id="489c5-183">프로젝트 쿼리</span><span class="sxs-lookup"><span data-stu-id="489c5-183">Query Projections</span></span>](../../../../docs/framework/data/wcf/query-projections-wcf-data-services.md)  
  
 [<span data-ttu-id="489c5-184">개체 구체화</span><span class="sxs-lookup"><span data-stu-id="489c5-184">Object Materialization</span></span>](../../../../docs/framework/data/wcf/object-materialization-wcf-data-services.md)  
  
 [<span data-ttu-id="489c5-185">LINQ 고려 사항</span><span class="sxs-lookup"><span data-stu-id="489c5-185">LINQ Considerations</span></span>](../../../../docs/framework/data/wcf/linq-considerations-wcf-data-services.md)  
  
 [<span data-ttu-id="489c5-186">방법: 데이터 서비스 쿼리 실행</span><span class="sxs-lookup"><span data-stu-id="489c5-186">How to: Execute Data Service Queries</span></span>](../../../../docs/framework/data/wcf/how-to-execute-data-service-queries-wcf-data-services.md)  
  
 [<span data-ttu-id="489c5-187">방법: 쿼리 옵션을 데이터 서비스 쿼리에 추가</span><span class="sxs-lookup"><span data-stu-id="489c5-187">How to: Add Query Options to a Data Service Query</span></span>](../../../../docs/framework/data/wcf/how-to-add-query-options-to-a-data-service-query-wcf-data-services.md)  
  
 [<span data-ttu-id="489c5-188">방법: 쿼리가 반환하는 엔터티의 수 확인</span><span class="sxs-lookup"><span data-stu-id="489c5-188">How to: Determine the Number of Entities Returned by a Query</span></span>](../../../../docs/framework/data/wcf/number-of-entities-returned-by-a-query-wcf.md)  
  
 [<span data-ttu-id="489c5-189">방법: 데이터 서비스 요청에 대한 클라이언트 자격 증명 지정</span><span class="sxs-lookup"><span data-stu-id="489c5-189">How to: Specify Client Credentials for a Data Service Request</span></span>](../../../../docs/framework/data/wcf/specify-client-creds-for-a-data-service-request-wcf.md)  
  
 [<span data-ttu-id="489c5-190">방법: 클라이언트 요청의 헤더 설정</span><span class="sxs-lookup"><span data-stu-id="489c5-190">How to: Set Headers in the Client Request</span></span>](../../../../docs/framework/data/wcf/how-to-set-headers-in-the-client-request-wcf-data-services.md)  
  
 [<span data-ttu-id="489c5-191">방법: 프로젝트 쿼리 결과</span><span class="sxs-lookup"><span data-stu-id="489c5-191">How to: Project Query Results</span></span>](../../../../docs/framework/data/wcf/how-to-project-query-results-wcf-data-services.md)  
  
## <a name="see-also"></a><span data-ttu-id="489c5-192">참고 항목</span><span class="sxs-lookup"><span data-stu-id="489c5-192">See Also</span></span>  
 [<span data-ttu-id="489c5-193">WCF Data Services 클라이언트 라이브러리</span><span class="sxs-lookup"><span data-stu-id="489c5-193">WCF Data Services Client Library</span></span>](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)
