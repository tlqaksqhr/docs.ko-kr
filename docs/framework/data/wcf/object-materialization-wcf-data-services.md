---
title: "개체 구체화(WCF Data Services)"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework-oob
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- WCF Data Services, client library
- WCF Data Services, querying
ms.assetid: f0dbf7b0-0292-4e31-9ae4-b98288336dc1
caps.latest.revision: "4"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: a8f20023e158b388ddd71e518ebcaa48c214252c
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/02/2017
---
# <a name="object-materialization-wcf-data-services"></a><span data-ttu-id="604f6-102">개체 구체화(WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="604f6-102">Object Materialization (WCF Data Services)</span></span>
<span data-ttu-id="604f6-103">사용 하는 경우는 **서비스 참조 추가** 대화 상자를 사용 하는 [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] .NET Framework 기반 클라이언트 응용 프로그램에서 피드를 해당 하는 데이터 클래스가 피드에서 노출 하는 데이터 모델의 각 엔터티 형식에 대해 생성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-103">When you use the **Add Service Reference** dialog to consume an [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] feed in a .NET Framework-based client application, equivalent data classes are generated for each entity type in the data model exposed by the feed.</span></span> <span data-ttu-id="604f6-104">자세한 내용은 참조 [데이터 서비스 클라이언트 라이브러리 생성](../../../../docs/framework/data/wcf/generating-the-data-service-client-library-wcf-data-services.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-104">For more information, see [Generating the Data Service Client Library](../../../../docs/framework/data/wcf/generating-the-data-service-client-library-wcf-data-services.md).</span></span> <span data-ttu-id="604f6-105">쿼리에서 반환되는 엔터티 데이터는 이러한 생성된 클라이언트 데이터 서비스 클래스 중 하나의 인스턴스로 구체화됩니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-105">Entity data that is returned by a query is materialized into an instance of one of these generated client data service classes.</span></span> <span data-ttu-id="604f6-106">병합 옵션 및 추적 된 개체에 대 한 id 확인에 대 한 정보를 참조 하십시오. [데이터 서비스 컨텍스트 관리](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-106">For information about merge options and identity resolution for tracked objects, see [Managing the Data Service Context](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span></span>  
  
 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]<span data-ttu-id="604f6-107">를 사용하면 도구에서 생성된 데이터 클래스를 사용하지 않고 고유한 클라이언트 데이터 서비스 클래스를 정의할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-107"> also enables you to define your own client data service classes rather than using the tool-generated data classes.</span></span> <span data-ttu-id="604f6-108">이에 따라 POCO(Plain Old CLR Object) 데이터 클래스라고도 하는 고유 데이터 클래스를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-108">This enables you to use your own data classes, also known as "plain-old CLR object" (POCO) data classes.</span></span> <span data-ttu-id="604f6-109">이러한 유형의 사용자 지정 데이터 클래스를 사용할 경우 특성을 설정 해야 데이터 클래스를 사용 하 여 <xref:System.Data.Services.Common.DataServiceKeyAttribute> 또는 <xref:System.Data.Services.Common.DataServiceEntityAttribute> 형식 이름이에 클라이언트 데이터 서비스의 데이터 모델의 형식 이름과 일치 하는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-109">When using these types of custom data classes, you should attribute the data class with either <xref:System.Data.Services.Common.DataServiceKeyAttribute> or <xref:System.Data.Services.Common.DataServiceEntityAttribute> and ensure that type names on the client match type names in the data model of the data service.</span></span>  
  
 <span data-ttu-id="604f6-110">반환된 된 데이터를 구체화는 쿼리 응답 메시지를 수신 하는 라이브러리는 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 쿼리의 형식의 서비스 클래스를 클라이언트 데이터의 인스턴스를에 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-110">After the library receives the query response message, it materializes the returned data from the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feed into instances of client data service classes that are of the type of the query.</span></span> <span data-ttu-id="604f6-111">이러한 개체를 구체화하는 일반적인 프로세스는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-111">The general process for materializing these objects is as follows:</span></span>  
  
1.  <span data-ttu-id="604f6-112">클라이언트 라이브러리는 다음 중 한 가지 방법으로 응답 메시지 피드의 `entry` 요소에서 serialize된 형식을 읽고 올바른 형식의 새 인스턴스를 만들려고 시도합니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-112">The client library reads the serialized type from the `entry` element in the response message feed and attempts to create a new instance of the correct type, in one of the following ways:</span></span>  
  
    -   <span data-ttu-id="604f6-113">피드에 선언된 형식의 이름이 <xref:System.Data.Services.Client.DataServiceQuery%601>의 형식 이름과 동일한 경우 이 형식의 새 인스턴스가 빈 생성자를 사용하여 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-113">When the type declared in the feed has the same name as the type of the <xref:System.Data.Services.Client.DataServiceQuery%601>, a new instance of this type is created by using the empty constructor.</span></span>  
  
    -   <span data-ttu-id="604f6-114">피드에 선언된 형식의 이름이 <xref:System.Data.Services.Client.DataServiceQuery%601>의 형식에서 파생된 형식의 이름과 동일한 경우 이 파생 형식의 새 인스턴스가 빈 생성자를 사용하여 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-114">When the type declared in the feed has the same name as a type that is derived from the type of the <xref:System.Data.Services.Client.DataServiceQuery%601>, a new instance of this derived type is created by using the empty constructor.</span></span>  
  
    -   <span data-ttu-id="604f6-115">피드에 선언된 형식과 일치하는 <xref:System.Data.Services.Client.DataServiceQuery%601>의 형식이나 파생 형식을 찾을 수 없는 경우 쿼리된 형식의 새 인스턴스가 빈 생성자를 사용하여 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-115">When the type declared in the feed cannot be matched to the type of the <xref:System.Data.Services.Client.DataServiceQuery%601> or any derived types, a new instance of the queried type is created by using the empty constructor.</span></span>  
  
    -   <span data-ttu-id="604f6-116"><xref:System.Data.Services.Client.DataServiceContext.ResolveType%2A> 속성이 설정된 경우 제공된 대리자가 호출되어 기본 이름 기반 형식 매핑을 재정의하고 <xref:System.Func%602>에서 반환되는 형식의 새 인스턴스가 대신 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-116">When the <xref:System.Data.Services.Client.DataServiceContext.ResolveType%2A> property is set, the supplied delegate is called to override the default name-based type mapping and a new instance of the type returned by the <xref:System.Func%602> is created instead.</span></span> <span data-ttu-id="604f6-117">이 대리자가 null 값을 반환하는 경우 쿼리된 형식의 새 인스턴스가 대신 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-117">If this delegate returns a null value, a new instance of the queried type is created instead.</span></span> <span data-ttu-id="604f6-118">상속 시나리오를 지원하려면 기본 이름 기반 형식 이름 매핑을 재정의해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-118">It may be required to override the default name-based type name mapping to support inheritance scenarios.</span></span>  
  
2.  <span data-ttu-id="604f6-119">클라이언트 라이브러리는 엔터티의 ID 값인 `id`의 `entry` 요소에서 URI 값을 읽습니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-119">The client library reads the URI value from the `id` element of the `entry`, which is the identity value of the entity.</span></span> <span data-ttu-id="604f6-120"><xref:System.Data.Services.Client.DataServiceContext.MergeOption%2A>의 <xref:System.Data.Services.Client.MergeOption.NoTracking> 값을 사용하지 않는 경우 ID 값이 <xref:System.Data.Services.Client.DataServiceContext>에서 개체를 추적하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-120">Unless a <xref:System.Data.Services.Client.DataServiceContext.MergeOption%2A> value of <xref:System.Data.Services.Client.MergeOption.NoTracking> is used, the identity value is used to track the object in the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="604f6-121">ID 값은 엔터티가 쿼리 응답에서 여러 번 반환되는 경우에도 한 엔터티 인스턴스만 만들어지도록 하는 데도 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-121">The identity value is also used to guarantee that only a single entity instance is created, even when an entity is returned multiple times in the query response.</span></span>  
  
3.  <span data-ttu-id="604f6-122">클라이언트 라이브러리는 피드 항목에서 속성을 읽고 새로 만들어진 개체에 대해 해당 속성을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-122">The client library reads properties from the feed entry and set the corresponding properties on the newly created object.</span></span> <span data-ttu-id="604f6-123">ID 값이 동일한 개체가 이미 <xref:System.Data.Services.Client.DataServiceContext>에 있는 경우 <xref:System.Data.Services.Client.MergeOption>의 <xref:System.Data.Services.Client.DataServiceContext> 설정에 따라 속성이 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-123">When an object that has the same identity value already occurs in the <xref:System.Data.Services.Client.DataServiceContext>, the properties are set based on the <xref:System.Data.Services.Client.MergeOption> setting of the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="604f6-124">해당 속성이 클라이언트 형식에 없는 경우 응답에 속성 값이 포함될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-124">The response might contain property values for which a corresponding property does not occur in the client type.</span></span> <span data-ttu-id="604f6-125">이러한 경우 <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A>의 <xref:System.Data.Services.Client.DataServiceContext> 속성 값에 따라 동작이 결정됩니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-125">When this occurs, the action depends on the value of the <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> property of the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="604f6-126">이 속성이 `true`로 설정되었으면 없는 속성이 무시되고,</span><span class="sxs-lookup"><span data-stu-id="604f6-126">When this property is set to `true`, the missing property is ignored.</span></span> <span data-ttu-id="604f6-127">그렇지 않으면 오류가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-127">Otherwise, an error is raised.</span></span> <span data-ttu-id="604f6-128">속성은 다음과 같이 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-128">Properties are set as follows:</span></span>  
  
    -   <span data-ttu-id="604f6-129">스칼라 속성은 응답 메시지의 항목에 있는 해당 값으로 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-129">Scalar properties are set to the corresponding value in the entry in the response message.</span></span>  
  
    -   <span data-ttu-id="604f6-130">복합 속성은 응답에 있는 복합 형식의 속성을 사용하여 설정된 새로운 복합 형식 인스턴스로 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-130">Complex properties are set to a new complex type instance, which are set with the properties of the complex type from the response.</span></span>  
  
    -   <span data-ttu-id="604f6-131">관련 엔터티의 컬렉션을 반환하는 탐색 속성은 <xref:System.Collections.Generic.ICollection%601>의 새 인스턴스나 기존 인스턴스로 설정됩니다. 여기서 `T`는 관련 엔터티의 형식입니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-131">Navigation properties that return a collection of related entities are set to a new or existing instance of <xref:System.Collections.Generic.ICollection%601>, where `T` is the type of the related entity.</span></span> <span data-ttu-id="604f6-132">이 컬렉션은 관련 개체가 <xref:System.Data.Services.Client.DataServiceContext>로 로드되지 않은 경우 비어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-132">This collection is empty unless the related objects have been loaded into the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="604f6-133">자세한 내용은 참조 [지연 콘텐츠 로드](../../../../docs/framework/data/wcf/loading-deferred-content-wcf-data-services.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-133">For more information, see [Loading Deferred Content](../../../../docs/framework/data/wcf/loading-deferred-content-wcf-data-services.md).</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="604f6-134">생성된 클라이언트 데이터 클래스가 데이터 바인딩을 지원하는 경우 탐색 속성은 <xref:System.Data.Services.Client.DataServiceCollection%601> 클래스의 인스턴스를 대신 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-134">When the generated client data classes support data binding, navigation properties return instances of the <xref:System.Data.Services.Client.DataServiceCollection%601> class instead.</span></span> <span data-ttu-id="604f6-135">자세한 내용은 참조 [컨트롤에 데이터 바인딩](../../../../docs/framework/data/wcf/binding-data-to-controls-wcf-data-services.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-135">For more information, see [Binding Data to Controls](../../../../docs/framework/data/wcf/binding-data-to-controls-wcf-data-services.md).</span></span>  
  
4.  <span data-ttu-id="604f6-136"><xref:System.Data.Services.Client.DataServiceContext.ReadingEntity> 이벤트가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-136">The <xref:System.Data.Services.Client.DataServiceContext.ReadingEntity> event is raised.</span></span>  
  
5.  <span data-ttu-id="604f6-137">클라이언트 라이브러리는 개체를 <xref:System.Data.Services.Client.DataServiceContext>에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-137">The client library attaches the object to the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="604f6-138"><xref:System.Data.Services.Client.MergeOption>이 <xref:System.Data.Services.Client.MergeOption.NoTracking>인 경우에는 개체가 연결되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="604f6-138">The object is not attached when the <xref:System.Data.Services.Client.MergeOption> is <xref:System.Data.Services.Client.MergeOption.NoTracking>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="604f6-139">참고 항목</span><span class="sxs-lookup"><span data-stu-id="604f6-139">See Also</span></span>  
 [<span data-ttu-id="604f6-140">데이터 서비스 쿼리</span><span class="sxs-lookup"><span data-stu-id="604f6-140">Querying the Data Service</span></span>](../../../../docs/framework/data/wcf/querying-the-data-service-wcf-data-services.md)  
 [<span data-ttu-id="604f6-141">쿼리 프로젝션</span><span class="sxs-lookup"><span data-stu-id="604f6-141">Query Projections</span></span>](../../../../docs/framework/data/wcf/query-projections-wcf-data-services.md)
