---
title: 사용자 정의 바인딩 만들기
ms.date: 03/30/2017
helpviewer_keywords:
- user-defined bindings [WCF]
ms.assetid: c4960675-d701-4bc9-b400-36a752fdd08b
ms.openlocfilehash: c9d37163770f2fd192a6fd2a03878b28f0237646
ms.sourcegitcommit: 15109844229ade1c6449f48f3834db1b26907824
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/07/2018
---
# <a name="creating-user-defined-bindings"></a><span data-ttu-id="09f60-102">사용자 정의 바인딩 만들기</span><span class="sxs-lookup"><span data-stu-id="09f60-102">Creating User-Defined Bindings</span></span>
<span data-ttu-id="09f60-103">시스템에서 제공하지 않는 바인딩은 다음과 같은 여러 가지 방법으로 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-103">There are several ways to create bindings not provided by the system:</span></span>  
  
-   <span data-ttu-id="09f60-104">바인딩 요소로 채워지는 컨테이너인 <xref:System.ServiceModel.Channels.CustomBinding> 클래스에 따라 사용자 지정 바인딩을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-104">Create a custom binding, based on the <xref:System.ServiceModel.Channels.CustomBinding> class, which is a container that you fill with binding elements.</span></span> <span data-ttu-id="09f60-105">그런 다음 사용자 지정 바인딩을 서비스 끝점에 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-105">The custom binding is then added to a service endpoint.</span></span> <span data-ttu-id="09f60-106">프로그램 방식이나 응용 프로그램 구성 파일을 통해 사용자 지정 바인딩을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-106">You can create the custom binding either programmatically or in an application configuration file.</span></span> <span data-ttu-id="09f60-107">응용 프로그램 구성 파일에서 바인딩 요소를 사용하려면 바인딩 요소가 <xref:System.ServiceModel.Configuration.BindingElementExtensionElement>를 확장해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-107">To use a binding element from an application configuration file, the binding element must extend <xref:System.ServiceModel.Configuration.BindingElementExtensionElement>.</span></span> <span data-ttu-id="09f60-108">사용자 지정 바인딩에 대 한 자세한 내용은 참조 하십시오. [사용자 지정 바인딩을](../../../../docs/framework/wcf/extending/custom-bindings.md) 및 <xref:System.ServiceModel.Channels.CustomBinding>합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-108">For more information about custom bindings, see [Custom Bindings](../../../../docs/framework/wcf/extending/custom-bindings.md) and <xref:System.ServiceModel.Channels.CustomBinding>.</span></span>  
  
-   <span data-ttu-id="09f60-109">표준 바인딩에서 파생되는 클래스를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-109">You can create a class that derives from a standard binding.</span></span> <span data-ttu-id="09f60-110">예를 들어, <xref:System.ServiceModel.WSHttpBinding>에서 클래스를 파생하고 <xref:System.ServiceModel.Channels.CustomBinding.CreateBindingElements%2A> 메서드를 재정의하여 바인딩 요소를 가져온 후 사용자 지정 바인딩 요소를 삽입하거나 특정 보안 값을 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-110">For example, you can derive a class from <xref:System.ServiceModel.WSHttpBinding> and override <xref:System.ServiceModel.Channels.CustomBinding.CreateBindingElements%2A> method to obtain the binding elements and insert a custom binding element or establish a particular value for security.</span></span>  
  
-   <span data-ttu-id="09f60-111">전체 바인딩 구현을 완벽하게 제어하도록 새 <xref:System.ServiceModel.Channels.Binding> 형식을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-111">You can create a new <xref:System.ServiceModel.Channels.Binding> type to completely control the entire binding implementation.</span></span>  
  
## <a name="the-order-of-binding-elements"></a><span data-ttu-id="09f60-112">바인딩 요소 순서</span><span class="sxs-lookup"><span data-stu-id="09f60-112">The Order of Binding Elements</span></span>  
 <span data-ttu-id="09f60-113">각 바인딩 요소는 메시지를 보내거나 받을 때의 처리 단계를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-113">Each binding element represents a processing step when sending or receiving messages.</span></span> <span data-ttu-id="09f60-114">런타임에 바인딩 요소는 나가고 들어오는 채널 스택을 빌드하는 데 필요한 채널 및 수신기를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-114">At runtime, binding elements create the channels and listeners necessary to build outgoing and incoming channel stacks.</span></span>  
  
 <span data-ttu-id="09f60-115">프로토콜 바인딩 요소, 인코딩 바인딩 요소 및 전송 바인딩 요소의 세 가지 주요 바인딩 요소 형식이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-115">There are three main types of binding elements: Protocol Binding Elements, Encoding Binding Elements and Transport Binding Elements.</span></span>  
  
 <span data-ttu-id="09f60-116">프로토콜 바인딩 요소 – 이 요소는 메시지에 대해 수행하는 높은 수준의 처리 단계를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-116">Protocol Binding Elements – These elements represent higher-level processing steps that act on messages.</span></span> <span data-ttu-id="09f60-117">이러한 바인딩 요소로 만들어진 채널 및 수신기는 메시지 내용을 추가, 제거 또는 수정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-117">Channels and listeners created by these binding elements can add, remove, or modify the message content.</span></span> <span data-ttu-id="09f60-118">제공된 바인딩에는 임의의 개수의 프로토콜 바인딩 요소가 포함될 수 있으며 각 요소는 <xref:System.ServiceModel.Channels.BindingElement>에서 상속됩니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-118">A given binding may have an arbitrary number of protocol binding elements, each inheriting from <xref:System.ServiceModel.Channels.BindingElement>.</span></span> <span data-ttu-id="09f60-119">Windows Communication Foundation (WCF) 등의 여러 프로토콜 바인딩 요소가 포함 된 <xref:System.ServiceModel.Channels.ReliableSessionBindingElement> 및 <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-119">Windows Communication Foundation (WCF) includes several protocol binding elements, including the <xref:System.ServiceModel.Channels.ReliableSessionBindingElement> and the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>.</span></span>  
  
 <span data-ttu-id="09f60-120">인코딩 바인딩 요소 – 이 요소는 네트워크에서 전송 대기 중인 메시지와 인코딩 간의 변환을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-120">Encoding Binding Element – These elements represent transformations between a message and an encoding ready for transmission on the wire.</span></span> <span data-ttu-id="09f60-121">일반적인 WCF 바인딩에 정확히 하나의 인코딩 바인딩 요소를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-121">Typical WCF bindings include exactly one encoding binding element.</span></span> <span data-ttu-id="09f60-122">인코딩 바인딩 요소의 예로는 <xref:System.ServiceModel.Channels.MtomMessageEncodingBindingElement>, <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement> 및 <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-122">Examples of encoding binding elements include the <xref:System.ServiceModel.Channels.MtomMessageEncodingBindingElement>, the <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement>, and the <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>.</span></span> <span data-ttu-id="09f60-123">바인딩에 대해 인코딩 바인딩 요소를 지정하지 않으면 기본 인코딩이 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-123">If an encoding binding element is not specified for a binding, a default encoding is used.</span></span> <span data-ttu-id="09f60-124">기본값은 HTTP 전송이면 텍스트이고, 그렇지 않으면 이진입니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-124">The default is text when the transport is HTTP and binary otherwise.</span></span>  
  
 <span data-ttu-id="09f60-125">전송 바인딩 요소 – 이 요소는 전송 프로토콜에서 인코딩 메시지의 전송을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-125">Transport Binding Element – These elements represent the transmission of an encoding message on a transport protocol.</span></span> <span data-ttu-id="09f60-126">상속 하는 정확히 하나의 전송 바인딩 요소를 포함 하는 일반적인 WCF 바인딩 <xref:System.ServiceModel.Channels.TransportBindingElement>합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-126">Typical WCF bindings include exactly one transport binding element, which inherits from <xref:System.ServiceModel.Channels.TransportBindingElement>.</span></span> <span data-ttu-id="09f60-127">전송 바인딩 요소의 예로는 <xref:System.ServiceModel.Channels.TcpTransportBindingElement>, <xref:System.ServiceModel.Channels.HttpTransportBindingElement> 및 <xref:System.ServiceModel.Channels.NamedPipeTransportBindingElement>가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-127">Examples of transport binding elements include the <xref:System.ServiceModel.Channels.TcpTransportBindingElement>, the <xref:System.ServiceModel.Channels.HttpTransportBindingElement>, and the <xref:System.ServiceModel.Channels.NamedPipeTransportBindingElement>.</span></span>  
  
 <span data-ttu-id="09f60-128">새 바인딩을 만들 때 추가되는 바인딩 요소의 순서가 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-128">When creating new bindings, the order of the added binding elements is important.</span></span> <span data-ttu-id="09f60-129">항상 다음 순서대로 바인딩 요소를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-129">Always add binding elements in the following order:</span></span>  
  
|<span data-ttu-id="09f60-130">계층</span><span class="sxs-lookup"><span data-stu-id="09f60-130">Layer</span></span>|<span data-ttu-id="09f60-131">옵션</span><span class="sxs-lookup"><span data-stu-id="09f60-131">Options</span></span>|<span data-ttu-id="09f60-132">필수</span><span class="sxs-lookup"><span data-stu-id="09f60-132">Required</span></span>|  
|-----------|-------------|--------------|  
|<span data-ttu-id="09f60-133">트랜잭션 흐름</span><span class="sxs-lookup"><span data-stu-id="09f60-133">Transaction Flow</span></span>|<xref:System.ServiceModel.Channels.TransactionFlowBindingElement?displayProperty=nameWithType>|<span data-ttu-id="09f60-134">아니요</span><span class="sxs-lookup"><span data-stu-id="09f60-134">No</span></span>|  
|<span data-ttu-id="09f60-135">안정성</span><span class="sxs-lookup"><span data-stu-id="09f60-135">Reliability</span></span>|<xref:System.ServiceModel.Channels.ReliableSessionBindingElement?displayProperty=nameWithType>|<span data-ttu-id="09f60-136">아니요</span><span class="sxs-lookup"><span data-stu-id="09f60-136">No</span></span>|  
|<span data-ttu-id="09f60-137">보안</span><span class="sxs-lookup"><span data-stu-id="09f60-137">Security</span></span>|<xref:System.ServiceModel.Channels.SecurityBindingElement?displayProperty=nameWithType>|<span data-ttu-id="09f60-138">아니요</span><span class="sxs-lookup"><span data-stu-id="09f60-138">No</span></span>|  
|<span data-ttu-id="09f60-139">복합 이중</span><span class="sxs-lookup"><span data-stu-id="09f60-139">Composite Duplex</span></span>|<xref:System.ServiceModel.Channels.CompositeDuplexBindingElement?displayProperty=nameWithType>|<span data-ttu-id="09f60-140">아니요</span><span class="sxs-lookup"><span data-stu-id="09f60-140">No</span></span>|  
|<span data-ttu-id="09f60-141">Encoding</span><span class="sxs-lookup"><span data-stu-id="09f60-141">Encoding</span></span>|<span data-ttu-id="09f60-142">텍스트, 이진, MTOM, 사용자 지정</span><span class="sxs-lookup"><span data-stu-id="09f60-142">Text, Binary, MTOM, Custom</span></span>|<span data-ttu-id="09f60-143">예\*</span><span class="sxs-lookup"><span data-stu-id="09f60-143">Yes\*</span></span>|  
|<span data-ttu-id="09f60-144">전송</span><span class="sxs-lookup"><span data-stu-id="09f60-144">Transport</span></span>|<span data-ttu-id="09f60-145">TCP, 명명된 파이프, HTTP, HTTPS, MSMQ, 사용자 지정</span><span class="sxs-lookup"><span data-stu-id="09f60-145">TCP, Named Pipes, HTTP, HTTPS, MSMQ, Custom</span></span>|<span data-ttu-id="09f60-146">예</span><span class="sxs-lookup"><span data-stu-id="09f60-146">Yes</span></span>|  
  
 <span data-ttu-id="09f60-147">\* 인코딩은 이므로 각 바인딩의 필수적 요소는 인코딩이 지정 되지 않은 경우, WCF에서 기본 인코딩을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-147">\*Because an encoding is required for each binding, if an encoding is not specified, WCF adds a default encoding for you.</span></span> <span data-ttu-id="09f60-148">기본값은 HTTP 및 HTTPS 전송의 경우 텍스트/XML이고 그렇지 않은 경우 이진입니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-148">The default is Text/XML for the HTTP and HTTPS transports, and Binary otherwise.</span></span>  
  
## <a name="creating-a-new-binding-element"></a><span data-ttu-id="09f60-149">새 바인딩 요소 만들기</span><span class="sxs-lookup"><span data-stu-id="09f60-149">Creating a new Binding Element</span></span>  
 <span data-ttu-id="09f60-150">파생 된 형식 외에도 <xref:System.ServiceModel.Channels.BindingElement> 하는 WCF 바인딩 요소를 만들 수 있습니다 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-150">In addition to the types derived from <xref:System.ServiceModel.Channels.BindingElement> that are provided by WCF, you can create your own binding elements.</span></span> <span data-ttu-id="09f60-151">따라서 바인딩 스택을 만드는 방법 및 스택에서 기타 시스템 제공 형식으로 구성할 수 있는 <xref:System.ServiceModel.Channels.BindingElement>를 만들어 이 스택에 삽입되는 구성 요소를 사용자 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-151">This lets you customize the way the stack of bindings is created and the components that go in it by creating your own <xref:System.ServiceModel.Channels.BindingElement> that can be composed with the other system-provided types in the stack.</span></span>  
  
 <span data-ttu-id="09f60-152">예를 들어, 메시지를 데이터베이스에 기록하는 기능을 제공하는 `LoggingBindingElement`를 구현하는 경우 채널 스택의 전송 채널 위에 요소를 배치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-152">For example, if you implement a `LoggingBindingElement` that provides the ability to log the message to a database, you must place it above a transport channel in the channel stack.</span></span> <span data-ttu-id="09f60-153">이 경우 응용 프로그램은 다음 예제에서처럼 `LoggingBindingElement`로 `TcpTransportBindingElement`를 구성한 사용자 지정 바인딩을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-153">In this case, the application creates a custom binding that composed the `LoggingBindingElement` with `TcpTransportBindingElement`, as in the following example.</span></span>  
  
```csharp  
Binding customBinding = new CustomBinding(  
  new LoggingBindingElement(),   
  new TcpTransportBindingElement()  
);  
```  
  
 <span data-ttu-id="09f60-154">새 바인딩 요소를 작성하는 방법은 정확한 기능에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-154">How you write your new binding element depends on its exact functionality.</span></span> <span data-ttu-id="09f60-155">샘플 중 하나 [전송: UDP](../../../../docs/framework/wcf/samples/transport-udp.md), 한 종류의 바인딩 요소를 구현 하는 방법에 대 한 자세한 설명을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-155">One of the samples, [Transport: UDP](../../../../docs/framework/wcf/samples/transport-udp.md), provides a detailed description of how to implement one kind of binding element.</span></span>  
  
## <a name="creating-a-new-binding"></a><span data-ttu-id="09f60-156">새 바인딩 만들기</span><span class="sxs-lookup"><span data-stu-id="09f60-156">Creating a New Binding</span></span>  
 <span data-ttu-id="09f60-157">사용자가 만든 바인딩 요소는 두 가지 방법으로 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-157">A user-created binding element can be used in two ways.</span></span> <span data-ttu-id="09f60-158">이전 단원에서는 사용자 지정 바인딩을 통해 사용하는 첫 번째 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-158">The previous section illustrates the first way: through a custom binding.</span></span> <span data-ttu-id="09f60-159">사용자 지정 바인딩에서는 사용자가 만든 바인딩을 비롯한 임의의 바인딩 요소 집합에 따라 직접 바인딩을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-159">A custom binding allows the user to create their own binding based on an arbitrary set of binding elements, including user-created ones.</span></span>  
  
 <span data-ttu-id="09f60-160">둘 이상의 응용 프로그램에서 바인딩을 사용하는 경우 직접 바인딩을 만들어 <xref:System.ServiceModel.Channels.Binding>을 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-160">If you use the binding in more than one application, create your own binding and extend the <xref:System.ServiceModel.Channels.Binding>.</span></span> <span data-ttu-id="09f60-161">이렇게 하면 사용할 때마다 사용자 지정 바인딩을 수동으로 만들지 않아도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-161">This avoids manually creating a custom binding every time you want to use it.</span></span> <span data-ttu-id="09f60-162">사용자 정의 바인딩을 사용하여 바인딩의 동작을 정의하고 사용자 정의 바인딩 요소를 포함시킬 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-162">A user-defined binding allows you to define the binding’s behavior and include user-defined binding elements.</span></span> <span data-ttu-id="09f60-163">있고 그것이 *사전 패키지*: 사용할 때마다 바인딩을 다시 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-163">And it is *pre-packaged*: you do not have to rebuild the binding every time you use it.</span></span>  
  
 <span data-ttu-id="09f60-164">최소한 사용자 정의 바인딩은 <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> 메서드 및 <xref:System.ServiceModel.Channels.Binding.Scheme%2A> 속성을 구현해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-164">At a minimum, a user-defined binding must implement the <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> method and the <xref:System.ServiceModel.Channels.Binding.Scheme%2A> property.</span></span>  
  
 <span data-ttu-id="09f60-165"><xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> 메서드는 바인딩의 바인딩 요소가 포함된 새 <xref:System.ServiceModel.Channels.BindingElementCollection>을 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-165">The <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> method returns a new <xref:System.ServiceModel.Channels.BindingElementCollection> that contains the binding elements for the binding.</span></span> <span data-ttu-id="09f60-166">컬렉션에는 먼저 프로토콜 바인딩 요소 그리고 인코딩 바인딩 요소와 전송 바인딩 요소가 순서대로 포함되어 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-166">The collection is ordered, and should contain the protocol binding elements first, followed by the encoding binding element, followed by the transport binding element.</span></span> <span data-ttu-id="09f60-167">WCF 시스템 제공 바인딩 요소를 사용할 때는 정렬 규칙에 지정 된 바인딩 요소를 수행 해야 [사용자 지정 바인딩](../../../../docs/framework/wcf/extending/custom-bindings.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-167">When using the WCF system-provided binding elements, you must follow the binding element ordering rules specified in [Custom Bindings](../../../../docs/framework/wcf/extending/custom-bindings.md).</span></span> <span data-ttu-id="09f60-168">이 컬렉션은 사용자 정의 바인딩 클래스 내에서 참조된 개체를 참조하지 않아야 합니다. 따라서 바인딩 작성자는 `Clone()`를 호출할 때마다 <xref:System.ServiceModel.Channels.BindingElementCollection>의 <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A>을 반환해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-168">This collection should never reference objects referenced within the user-defined binding class; consequently, binding authors must return a `Clone()` of the <xref:System.ServiceModel.Channels.BindingElementCollection> on each call to <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A>.</span></span>  
  
 <span data-ttu-id="09f60-169"><xref:System.ServiceModel.Channels.Binding.Scheme%2A> 속성은 바인딩에서 사용 중인 전송 프로토콜의 URI 스키마를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-169">The <xref:System.ServiceModel.Channels.Binding.Scheme%2A> property represents the URI scheme for the transport protocol in use on the binding.</span></span> <span data-ttu-id="09f60-170">예를 들어는 *WSHttpBinding* 및 *NetTcpBinding* 는 각각의 "http" 및 "net.tcp"를 반환할 <xref:System.ServiceModel.Channels.Binding.Scheme%2A> 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-170">For example, the *WSHttpBinding* and the *NetTcpBinding* return "http" and "net.tcp" from their respective <xref:System.ServiceModel.Channels.Binding.Scheme%2A> properties.</span></span>  
  
 <span data-ttu-id="09f60-171">사용자 정의 인코딩 바인딩에 대한 선택적 메서드 및 속성의 전체 목록은 <xref:System.ServiceModel.Channels.Binding>을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="09f60-171">For a complete list of optional methods and properties for user-defined bindings, see <xref:System.ServiceModel.Channels.Binding>.</span></span>  
  
### <a name="example"></a><span data-ttu-id="09f60-172">예제</span><span class="sxs-lookup"><span data-stu-id="09f60-172">Example</span></span>  
 <span data-ttu-id="09f60-173">이 예제에서는 `SampleProfileUdpBinding`에서 파생되는 <xref:System.ServiceModel.Channels.Binding>의 프로필 바인딩을 구현합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-173">This example implements profile binding in `SampleProfileUdpBinding`, which derives from <xref:System.ServiceModel.Channels.Binding>.</span></span> <span data-ttu-id="09f60-174">`SampleProfileUdpBinding` 최대 4 개의 바인딩 요소가 포함: 하나는 사용자가 만든 `UdpTransportBindingElement`;과 3 시스템 제공: `TextMessageEncodingBindingElement`, `CompositeDuplexBindingElement`, 및 `ReliableSessionBindingElement`합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-174">The `SampleProfileUdpBinding` contains up to four binding elements within it: one user-created `UdpTransportBindingElement`; and three system-provided: `TextMessageEncodingBindingElement`, `CompositeDuplexBindingElement`, and `ReliableSessionBindingElement`.</span></span>  
  
```  
public override BindingElementCollection CreateBindingElements()  
{     
    BindingElementCollection bindingElements = new BindingElementCollection();  
    if (ReliableSessionEnabled)  
    {  
        bindingElements.Add(session);  
        bindingElements.Add(compositeDuplex);  
    }  
    bindingElements.Add(encoding);  
    bindingElements.Add(transport);  
    return bindingElements.Clone();  
}  
```  
  
## <a name="security-restrictions-with-duplex-contracts"></a><span data-ttu-id="09f60-175">이중 계약을 사용하여 보안 제한</span><span class="sxs-lookup"><span data-stu-id="09f60-175">Security Restrictions with Duplex Contracts</span></span>  
 <span data-ttu-id="09f60-176">일부 바인딩 요소는 서로 간에 호환되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-176">Not all binding elements are compatible with each other.</span></span> <span data-ttu-id="09f60-177">특히 이중 계약에서 사용하는 경우 보안 바인딩 요소에 대한 몇 가지 제한이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-177">In particular, there are some restrictions on security binding elements when used with duplex contracts.</span></span>  
  
### <a name="one-shot-security"></a><span data-ttu-id="09f60-178">원샷 보안</span><span class="sxs-lookup"><span data-stu-id="09f60-178">One-Shot Security</span></span>  
 <span data-ttu-id="09f60-179">"원 샷" 보안을 설정 하 여 단일 메시지에서 모든 필요한 보안 자격 증명 전송 되는 위치를 구현할 수는 `negotiateServiceCredential` 특성에는 \<메시지 > 구성 요소를 `false`합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-179">You can implement "one-shot" security, where all the necessary security credentials are sent in a single message, by setting the `negotiateServiceCredential` attribute of the \<message> configuration element to `false`.</span></span>  
  
 <span data-ttu-id="09f60-180">원샷 인증은 이중 계약에서 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-180">One-shot authentication does not work with duplex contracts.</span></span>  
  
 <span data-ttu-id="09f60-181">요청-회신 계약의 경우 보안 바인딩 요소 아래에 있는 바인딩 스택에서 <xref:System.ServiceModel.Channels.IRequestChannel> 또는 <xref:System.ServiceModel.Channels.IRequestSessionChannel> 인스턴스를 만들 수 있는 경우에만 원샷 인증을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-181">For Request-Reply contracts, one-shot authentication works only if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
 <span data-ttu-id="09f60-182">단방향 계약의 경우 보안 바인딩 요소 아래에 있는 바인딩 스택에서 <xref:System.ServiceModel.Channels.IRequestChannel>, <xref:System.ServiceModel.Channels.IRequestSessionChannel>, <xref:System.ServiceModel.Channels.IOutputChannel> 또는 <xref:System.ServiceModel.Channels.IOutputSessionChannel> 인스턴스를 만들 수 있는 경우 원샷 인증을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-182">For one-way contracts, one-shot authentication works if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel>, <xref:System.ServiceModel.Channels.IRequestSessionChannel>, <xref:System.ServiceModel.Channels.IOutputChannel> or <xref:System.ServiceModel.Channels.IOutputSessionChannel> instances.</span></span>  
  
### <a name="cookie-mode-security-context-tokens"></a><span data-ttu-id="09f60-183">쿠키 모드 보안 컨텍스트 토큰</span><span class="sxs-lookup"><span data-stu-id="09f60-183">Cookie-mode Security Context Tokens</span></span>  
 <span data-ttu-id="09f60-184">쿠키 모드 보안 컨텍스트 토큰은 이중 계약에서 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-184">Cookie mode security context tokens cannot be used with duplex contracts.</span></span>  
  
 <span data-ttu-id="09f60-185">요청-회신 계약의 경우 보안 바인딩 요소 아래에 있는 바인딩 스택에서 <xref:System.ServiceModel.Channels.IRequestChannel> 또는 <xref:System.ServiceModel.Channels.IRequestSessionChannel> 인스턴스를 만들 수 있는 경우에만 쿠키 모드 보안 컨텍스트 토큰을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-185">For Request-Reply contracts, cookie-mode security context tokens work only if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
 <span data-ttu-id="09f60-186">단방향 계약의 경우 보안 바인딩 요소 아래에 있는 바인딩 스택에서 <xref:System.ServiceModel.Channels.IRequestChannel> 또는 <xref:System.ServiceModel.Channels.IRequestSessionChannel> 인스턴스를 만들 수 있는 경우 쿠키 모드 보안 컨텍스트 토큰을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-186">For one-way contracts, cookie-mode security context tokens works if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
### <a name="session-mode-security-context-tokens"></a><span data-ttu-id="09f60-187">세션 모드 보안 컨텍스트 토큰</span><span class="sxs-lookup"><span data-stu-id="09f60-187">Session-mode Security Context Tokens</span></span>  
 <span data-ttu-id="09f60-188">세션 모드 SCT는 보안 바인딩 요소 아래에 있는 바인딩 스택에서 <xref:System.ServiceModel.Channels.IDuplexChannel> 또는 <xref:System.ServiceModel.Channels.IDuplexSessionChannel> 인스턴스를 만들 수 있는 경우 이중 계약에 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-188">Session mode SCT works for duplex contracts if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IDuplexChannel> or <xref:System.ServiceModel.Channels.IDuplexSessionChannel> instances.</span></span>  
  
 <span data-ttu-id="09f60-189">세션 모드 SCT는 보안 바인딩 요소 아래에 있는 바인딩 스택에서 <xref:System.ServiceModel.Channels.IDuplexChannel>, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>, <xref:System.ServiceModel.Channels.IRequestChannel> 또는 <xref:System.ServiceModel.Channels.IRequestSessionChannel> 인스턴스를 만들 수 있는 경우 요청-회신 계약에 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-189">Session mode SCT works for Request-Reply contracts if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IDuplexChannel>, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>, <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel>, instances.</span></span>  
  
 <span data-ttu-id="09f60-190">세션 모드 SCT는 보안 바인딩 요소 아래에 있는 바인딩 스택에서 <xref:System.ServiceModel.Channels.IDuplexChannel>, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>, <xref:System.ServiceModel.Channels.IRequestChannel> 또는 <xref:System.ServiceModel.Channels.IRequestSessionChannel> 인스턴스를 만들 수 있는 경우 단방향 계약에 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-190">Session mode SCT works for 1-way contracts if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IDuplexChannel>, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>, <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
## <a name="deriving-from-a-standard-binding"></a><span data-ttu-id="09f60-191">표준 바인딩에서 파생</span><span class="sxs-lookup"><span data-stu-id="09f60-191">Deriving from a Standard Binding</span></span>  
 <span data-ttu-id="09f60-192">완전히 새로운 바인딩 클래스를 만드는 대신 기존의 시스템 제공 바인딩 중 하나를 확장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-192">Instead of creating an entirely new binding class, it may be possible for you to extend one of the existing system-provided bindings.</span></span> <span data-ttu-id="09f60-193">앞의 경우와 마찬가지로 <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> 메서드 및 <xref:System.ServiceModel.Channels.Binding.Scheme%2A> 속성을 재정의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="09f60-193">Much like the preceding case, you must override the <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> method and the <xref:System.ServiceModel.Channels.Binding.Scheme%2A> property.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="09f60-194">참고 항목</span><span class="sxs-lookup"><span data-stu-id="09f60-194">See Also</span></span>  
 <xref:System.ServiceModel.Channels.Binding>  
 [<span data-ttu-id="09f60-195">사용자 지정 바인딩</span><span class="sxs-lookup"><span data-stu-id="09f60-195">Custom Bindings</span></span>](../../../../docs/framework/wcf/extending/custom-bindings.md)
