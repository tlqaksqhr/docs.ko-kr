---
title: "Windows 서비스 응용 프로그램에서의 호스팅"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: f4199998-27f3-4dd9-aee4-0a4addfa9f24
caps.latest.revision: "12"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: d1a39162097c21f20c0dd04f3911442602871436
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/22/2017
---
# <a name="hosting-in-a-windows-service-application"></a><span data-ttu-id="e0be9-102">Windows 서비스 응용 프로그램에서의 호스팅</span><span class="sxs-lookup"><span data-stu-id="e0be9-102">Hosting in a Windows Service Application</span></span>
<span data-ttu-id="e0be9-103">Windows 서비스(이전의 Windows NT 서비스)에서는 장기 실행되는 실행 파일에 있어야 하는 응용 프로그램에 특히 적합한 프로세스 모델을 제공하지만 사용자 인터페이스 폼을 표시하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-103">Windows services (formerly known as Windows NT services) provide a process model particularly suited to applications that must live in a long-running executable and do not display any form of user interface.</span></span> <span data-ttu-id="e0be9-104">Windows 서비스 응용 프로그램의 프로세스 수명은 Windows 서비스 응용 프로그램을 시작, 중지 및 일지 중지할 수 있도록 해 주는 SCM(서비스 제어 관리자)이 관리합니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-104">The process lifetime of a Windows service application is managed by the service control manager (SCM), which allows you to start, stop, and pause Windows service applications.</span></span> <span data-ttu-id="e0be9-105">Windows 서비스 프로세스가 "항상" 응용 프로그램에 적합 한 호스팅 환경을 만들 컴퓨터를 시작할 때 자동으로 시작 되도록 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-105">You can configure a Windows service process to start automatically when the computer starts, making it a suitable hosting environment for "always on" applications.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="e0be9-106">Windows 서비스 응용 프로그램 참조 [Windows 서비스 응용 프로그램](http://go.microsoft.com/fwlink/?LinkId=89450)합니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-106"> Windows service applications, see [Windows Service Applications](http://go.microsoft.com/fwlink/?LinkId=89450).</span></span>  
  
 <span data-ttu-id="e0be9-107">장기 실행 [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] 서비스를 호스트하는 응용 프로그램은 Windows 서비스와 함께 여러 특징을 공유합니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-107">Applications that host long-running [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services share many characteristics with Windows services.</span></span> <span data-ttu-id="e0be9-108">특히 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] 서비스는 사용자와 직접 상호 작용하지 않는 장기 실행 서버 실행 파일이므로 사용자 인터페이스의 폼을 구현하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-108">In particular, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services are long-running server executables that do not interact directly with the user and therefore do not implement any form of user interface.</span></span> <span data-ttu-id="e0be9-109">따라서 Windows 서비스 내에서 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] 서비스를 호스트하는 것은 강력한 장기 실행 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] 응용 프로그램을 빌드하기 위한 옵션 중 하나입니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-109">As such, hosting [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services inside of a Windows service application is one option for building robust, long-running, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] applications.</span></span>  
  
 <span data-ttu-id="e0be9-110">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] 개발자는 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] 응용 프로그램을 Windows 서비스 응용 프로그램 내에서 호스트할지, IIS(인터넷 정보 서비스) 또는 WAS(Windows Process Activation Service) 호스팅 환경 내에서 호스트할지 결정해야 하는 경우가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-110">Often, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] developers must decide whether to host their [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] application inside of a Windows service application or inside of the Internet Information Services (IIS) or Windows Process Activation Service (WAS) hosting environment.</span></span> <span data-ttu-id="e0be9-111">다음과 같은 경우에는 Windows 서비스 응용 프로그램을 사용하는 것을 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-111">You should consider using Windows service applications under the following conditions:</span></span>  
  
-   <span data-ttu-id="e0be9-112">응용 프로그램에서 명시적 활성화가 필요한 경우.</span><span class="sxs-lookup"><span data-stu-id="e0be9-112">Your application requires explicit activation.</span></span> <span data-ttu-id="e0be9-113">예를 들어, 서버가 들어오는 첫 번째 메시지에 대한 응답으로 동적으로 시작되는 대신 시작될 때 응용 프로그램이 자동으로 시작되어야 하는 경우 Windows 서비스를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-113">For example, you should use Windows services when your application must start automatically when the server starts instead of being dynamically started in response to the first incoming message.</span></span>  
  
-   <span data-ttu-id="e0be9-114">응용 프로그램을 호스트하는 프로세스가 일단 시작되면 계속 실행되어야 하는 경우.</span><span class="sxs-lookup"><span data-stu-id="e0be9-114">The process that hosts your application must remain running once started.</span></span> <span data-ttu-id="e0be9-115">Windows 서비스 프로세스는 일단 시작되면 서버 관리자가 서비스 제어 관리자를 사용하여 명시적으로 종료하지 않는 한 계속 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-115">Once started, a Windows service process remains running unless explicitly shut down by a server administrator using the service control manager.</span></span> <span data-ttu-id="e0be9-116">IIS 또는 WAS에서 호스트되는 응용 프로그램은 시스템 리소스의 사용을 최적화하기 위해 동적으로 시작되거나 중지될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-116">Applications hosted in IIS or WAS may be started and stopped dynamically to make optimal use of system resources.</span></span> <span data-ttu-id="e0be9-117">호스팅 프로세스의 수명을 명시적으로 제어할 필요가 있는 응용 프로그램은 IIS 또는 WAS 대신 Windows 서비스를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-117">Applications that require explicit control over the lifetime of their hosting process should use Windows services instead of IIS or WAS.</span></span>  
  
-   <span data-ttu-id="e0be9-118">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] 서비스는 Windows Server 2003에서 실행되어야 하며 HTTP 이외의 전송을 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-118">Your [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service must run on Windows Server 2003 and use transports other than HTTP.</span></span> <span data-ttu-id="e0be9-119">Windows Server 2003에서 [!INCLUDE[iis601](../../../../includes/iis601-md.md)] 호스팅 환경은 HTTP 통신으로만 제한됩니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-119">On Windows Server 2003, the [!INCLUDE[iis601](../../../../includes/iis601-md.md)] hosting environment is restricted to HTTP communication only.</span></span> <span data-ttu-id="e0be9-120">Windows 서비스 응용 프로그램의 경우 이 제한이 적용되지 않으며 net.tcp, net.pipe 및 net.msmq를 포함하여 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]에서 지원하는 모든 전송을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-120">Windows service applications are not subject to this restriction and can use any transport [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] supports, including net.tcp, net.pipe, and net.msmq.</span></span>  
  
### <a name="to-host-wcf-inside-of-a-windows-service-application"></a><span data-ttu-id="e0be9-121">Windows 서비스 응용 프로그램 대신 WCF를 호스트하려면</span><span class="sxs-lookup"><span data-stu-id="e0be9-121">To host WCF inside of a Windows service application</span></span>  
  
1.  <span data-ttu-id="e0be9-122">Windows 서비스 응용 프로그램을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-122">Create a Windows service application.</span></span> <span data-ttu-id="e0be9-123"><xref:System.ServiceProcess> 네임스페이스에 있는 클래스를 사용하여 관리 코드에서 Windows 서비스 응용 프로그램을 작성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-123">You can write Windows service applications in managed code using the classes in the <xref:System.ServiceProcess> namespace.</span></span> <span data-ttu-id="e0be9-124">이 응용 프로그램에는 <xref:System.ServiceProcess.ServiceBase>에서 상속된 하나의 클래스가 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-124">This application must include one class that inherits from <xref:System.ServiceProcess.ServiceBase>.</span></span>  
  
2.  <span data-ttu-id="e0be9-125">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] 서비스의 수명을 Windows 서비스 응용 프로그램의 수명에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-125">Link the lifetime of the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services to the lifetime of the Windows service application.</span></span> <span data-ttu-id="e0be9-126">일반적으로 Windows 서비스 응용 프로그램에서 호스트되는 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] 서비스에서 호스팅 서비스가 시작될 때는 활성화하고, 호스팅 서비스가 중지될 때는 메시지의 수신 대기를 중지하고, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] 서비스에 오류가 발생할 때는 호스팅 프로세스를 종료할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-126">Typically, you want [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services hosted in a Windows service application to become active when the hosting service starts, stop listening for messages when the hosting service is stopped, and shut down the hosting process when the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service encounters an error.</span></span> <span data-ttu-id="e0be9-127">이렇게 하려면 다음을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-127">This can be accomplished as follows:</span></span>  
  
    -   <span data-ttu-id="e0be9-128"><xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29>를 재정의하여 <xref:System.ServiceModel.ServiceHost>의 인스턴스를 하나 이상 엽니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-128">Override <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29> to open one or more instances of <xref:System.ServiceModel.ServiceHost>.</span></span> <span data-ttu-id="e0be9-129">하나의 Windows 서비스 응용 프로그램이 그룹으로서 시작 및 중지되는 여러 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] 서비스를 호스트할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-129">A single Windows service application can host multiple [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services that start and stop as a group.</span></span>  
  
    -   <span data-ttu-id="e0be9-130"><xref:System.ServiceProcess.ServiceBase.OnStop%2A>을 재정의하여 <xref:System.ServiceModel.Channels.CommunicationObject.Closed> 중에 시작된 실행 중인 <xref:System.ServiceModel.ServiceHost> 서비스의 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]에서 <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29>를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-130">Override <xref:System.ServiceProcess.ServiceBase.OnStop%2A> to call <xref:System.ServiceModel.Channels.CommunicationObject.Closed> on the <xref:System.ServiceModel.ServiceHost> any running [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services that were started during <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29>.</span></span>  
  
    -   <span data-ttu-id="e0be9-131"><xref:System.ServiceModel.Channels.CommunicationObject.Faulted>의 <xref:System.ServiceModel.ServiceHost> 이벤트를 구독하고 <xref:System.ServiceProcess.ServiceController> 클래스를 사용하여 오류가 발생한 경우 Windows 서비스 응용 프로그램을 종료합니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-131">Subscribe to the <xref:System.ServiceModel.Channels.CommunicationObject.Faulted> event of <xref:System.ServiceModel.ServiceHost> and use the <xref:System.ServiceProcess.ServiceController> class to shut down the Windows service application in case of error.</span></span>  
  
     <span data-ttu-id="e0be9-132">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] 서비스를 호스트하는 Windows 서비스 응용 프로그램이 배포되고 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]를 사용하지 않는 Windows 서비스 응용 프로그램과 동일한 방식으로 관리됩니다.</span><span class="sxs-lookup"><span data-stu-id="e0be9-132">Windows service applications that host [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services are deployed and managed in the same way as Windows service applications that do not make use of [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e0be9-133">참고 항목</span><span class="sxs-lookup"><span data-stu-id="e0be9-133">See Also</span></span>  
 <xref:System.ServiceProcess>  
 [<span data-ttu-id="e0be9-134">연습: 구성 요소 디자이너에서 Windows 서비스 응용 프로그램 만들기</span><span class="sxs-lookup"><span data-stu-id="e0be9-134">Walkthrough: Creating a Windows Service Application in the Component Designer</span></span>](http://go.microsoft.com/fwlink/?LinkId=94875)  
 [<span data-ttu-id="e0be9-135">방법: 관리되는 Windows 서비스에서 WCF 서비스 호스팅</span><span class="sxs-lookup"><span data-stu-id="e0be9-135">How to: Host a WCF Service in a Managed Windows Service</span></span>](../../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-a-managed-windows-service.md)  
 [<span data-ttu-id="e0be9-136">Windows Service 호스트</span><span class="sxs-lookup"><span data-stu-id="e0be9-136">Windows Service Host</span></span>](../../../../docs/framework/wcf/samples/windows-service-host.md)  
 [<span data-ttu-id="e0be9-137">서비스 응용 프로그램 프로그래밍 아키텍처</span><span class="sxs-lookup"><span data-stu-id="e0be9-137">Service Application Programming Architecture</span></span>](http://go.microsoft.com/fwlink/?LinkId=94876)  
 [<span data-ttu-id="e0be9-138">Windows Server App Fabric 호스팅 기능</span><span class="sxs-lookup"><span data-stu-id="e0be9-138">Windows Server App Fabric Hosting Features</span></span>](http://go.microsoft.com/fwlink/?LinkId=201276)
