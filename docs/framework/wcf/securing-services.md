---
title: "서비스에 보안 설정"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- configuration [WCF], securing services
- WCF security
- WCF, security
ms.assetid: f0ecc6f7-f4b5-42a4-9cb1-b02e28e26620
caps.latest.revision: "28"
author: BrucePerlerMS
ms.author: bruceper
manager: mbaldwin
ms.workload: dotnet
ms.openlocfilehash: 2b8e84fe75f812cdcb97dcc24a0edad2d238515b
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/22/2017
---
# <a name="securing-services"></a><span data-ttu-id="ac4c3-102">서비스에 보안 설정</span><span class="sxs-lookup"><span data-stu-id="ac4c3-102">Securing Services</span></span>
<span data-ttu-id="ac4c3-103">[!INCLUDE[indigo1](../../../includes/indigo1-md.md)] 서비스 보안은 전송 보안과 인증의 두 가지 주요 요구 사항으로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-103">Security of a [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] service consists of two primary requirements: transfer security and authorization.</span></span> <span data-ttu-id="ac4c3-104">(한 세 번째 요구 사항인 보안 이벤트 감사에 대 한 자세한 내용은 [감사](../../../docs/framework/wcf/feature-details/auditing-security-events.md).) 간단히 말해서 전송 보안은 인증(서비스와 클라이언트 모두에 대해 ID 확인), 기밀성(메시지 암호화) 및 무결성(변조 확인을 위한 디지털 서명)을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-104">(A third requirement, auditing of security events, is described in [Auditing](../../../docs/framework/wcf/feature-details/auditing-security-events.md).) In brief, transfer security includes authentication (verifying the identity of both the service and the client), confidentiality (message encryption), and integrity (digital signing to detect tampering).</span></span> <span data-ttu-id="ac4c3-105">권한 부여는 리소스에 대한 액세스 제어입니다. 예를 들어, 권한 있는 사용자에게만 파일 읽기를 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-105">Authorization is the control of access to resources, for example, allowing only privileged users to read a file.</span></span> <span data-ttu-id="ac4c3-106">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)]의 기능을 사용하면 두 가지 주요 요구 사항이 쉽게 구현됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-106">Using features of [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], the two primary requirements are easily implemented.</span></span>  
  
 <span data-ttu-id="ac4c3-107">제외 된 <xref:System.ServiceModel.BasicHttpBinding> 클래스 (또는 [ \<basicHttpBinding >](../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md) 구성 요소), 전송 보안은 모든 미리 정의 된 바인딩에 대해 기본적으로 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-107">With the exception of the <xref:System.ServiceModel.BasicHttpBinding> class (or the [\<basicHttpBinding>](../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md) element in configuration), transfer security is enabled by default for all of the predefined bindings.</span></span> <span data-ttu-id="ac4c3-108">이 단원의 항목에서는 IIS(인터넷 정보 서비스)에 호스트되는 인트라넷 서비스에 대한 전송 보안 및 권한 부여 구현, IIS에 호스트되는 서비스에 대한 전송 보안 및 권한 부여 구현의 두 가지 기본 시나리오에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-108">The topics in this section cover two basic scenarios: implementing transfer security and authorization on an intranet service hosted on Internet Information Services (IIS), and implementing transfer security and authorization on a service hosted on IIS.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ac4c3-109">Windows XP Home은 Windows 인증을 지원하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-109">Windows XP Home does not support Windows authentication.</span></span> <span data-ttu-id="ac4c3-110">따라서 해당 시스템에서 서비스를 실행하지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-110">Therefore, you should not run a service on that system.</span></span>  
  
## <a name="security-basics"></a><span data-ttu-id="ac4c3-111">보안 기본 사항</span><span class="sxs-lookup"><span data-stu-id="ac4c3-111">Security Basics</span></span>  
 <span data-ttu-id="ac4c3-112">보안은 *자격 증명*에 의존합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-112">Security relies on *credentials*.</span></span> <span data-ttu-id="ac4c3-113">자격 증명은 엔터티가 요청 대상이 맞음을 증명합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-113">A credential proves that an entity is who it claims to be.</span></span> <span data-ttu-id="ac4c3-114">(프로그램 *엔터티* 사람, 소프트웨어 프로세스, 회사 또는 권한을 부여할 수 있는 아무 것도 될 수 있습니다.) 예를 들어 서비스의 클라이언트에서 한 *클레임* 의 *identity*, 자격 증명은 어떤 식으로든에서 및 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-114">(An *entity* can be a person, a software process, a company, or anything that can be authorized.) For example, a client of a service makes a *claim* of *identity*, and the credential proves that claim in some manner.</span></span> <span data-ttu-id="ac4c3-115">일반 시나리오에서 자격 증명 교환이 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-115">In a typical scenario, an exchange of credentials occurs.</span></span> <span data-ttu-id="ac4c3-116">첫째, 서비스에서 ID 클레임을 만들어 자격 증명을 사용하여 클라이언트에게 증명합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-116">First, a service makes a claim of its identity and proves it to the client with a credential.</span></span> <span data-ttu-id="ac4c3-117">클라이언트는 ID 클레임을 만들고 서비스에 자격 증명을 제시합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-117">Conversely, the client makes a claim of identity and presents a credential to the service.</span></span> <span data-ttu-id="ac4c3-118">두 당사자 모두가 서로의 자격 증명을 신뢰하는 경우 모든 메시지가 기밀하게 교환되고 모든 메시지에 서명하여 무결성을 보호하는 *보안 컨텍스트* 를 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-118">If both parties trust the other's credentials, then a *secure context* can be established in which all messages are exchanged in confidentiality, and all messages are signed to protect their integrity.</span></span> <span data-ttu-id="ac4c3-119">서비스에서는 클라이언트의 ID를 설정한 후 자격 증명의 클레임과 그룹의 *역할* 또는 *멤버 자격* 을 일치시킬 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-119">After the service establishes the client's identity, it can then match the claims in the credential to a *role* or *membership* in a group.</span></span> <span data-ttu-id="ac4c3-120">어느 경우든 클라이언트가 속하는 그룹 또는 역할을 사용하여 서비스는 클라이언트에 역할 또는 그룹 권한을 기반으로 제한된 작업을 수행할 수 있는 *권한을 부여* 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-120">In either case, using the role or the group to which the client belongs, the service *authorizes* the client to perform a limited set of operations based on the role or group privileges.</span></span>  
  
## <a name="windows-security-mechanisms"></a><span data-ttu-id="ac4c3-121">Windows 보안 메커니즘</span><span class="sxs-lookup"><span data-stu-id="ac4c3-121">Windows Security Mechanisms</span></span>  
 <span data-ttu-id="ac4c3-122">클라이언트와 서비스 컴퓨터가 모두 네트워크에 로그온해야 하는 Windows 도메인에 있는 경우 Windows 인프라가 자격 증명을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-122">If the client and the service computer are both on a Windows domain that requires both to log on to the network, the credentials are provided by Windows infrastructure.</span></span> <span data-ttu-id="ac4c3-123">이러한 경우 컴퓨터 사용자가 네트워크에 로그온하면 자격 증명이 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-123">In that case, the credentials are established when a computer user logs on to the network.</span></span> <span data-ttu-id="ac4c3-124">네트워크의 모든 사용자와 모든 컴퓨터가 신뢰할 수 있는 사용자 및 컴퓨터 집합에 속하는지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-124">Every user and every computer on the network must be validated as belonging to the trusted set of users and computers.</span></span> <span data-ttu-id="ac4c3-125">Windows 시스템에서는 그러한 모든 사용자와 컴퓨터를 *보안 주체*라고도 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-125">On a Windows system, every such user and computer is also known as a *security principal*.</span></span>  
  
 <span data-ttu-id="ac4c3-126">*Kerberos* 컨트롤러를 기반으로 하는 Windows 도메인에서 Kerberos 컨트롤러는 각 보안 주체에 티켓을 부여하는 방법을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-126">On a Windows domain backed by a *Kerberos* controller, the Kerberos controller uses a scheme based on granting tickets to each security principal.</span></span> <span data-ttu-id="ac4c3-127">컨트롤러가 부여하는 티켓은 시스템의 다른 티켓 부여자가 신뢰합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-127">The tickets the controller grants are trusted by other ticket granters in the system.</span></span> <span data-ttu-id="ac4c3-128">엔터티가 일부 작업을 수행하거나 *리소스* (예: 컴퓨터의 파일 또는 디렉터리)에 액세스하려고 할 때마다 티켓의 유효성을 검사하여 유효하면 주체에 작업을 위한 다른 티켓이 부여됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-128">Whenever an entity tries to perform some operation or access a *resource* (such as a file or directory on a machine), the ticket is examined for its validity and, if it passes, the principal is granted another ticket for the operation.</span></span> <span data-ttu-id="ac4c3-129">이 티켓 부여 방법은 모든 작업에 대해 주체를 유효성 검사하는 대체 방법보다 더 효율적입니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-129">This method of granting tickets is more efficient than the alternative of trying to validate the principal for every operation.</span></span>  
  
 <span data-ttu-id="ac4c3-130">Windows 도메인에 사용된 이전의 보안되지 않은 메커니즘은 NTLM(NT LAN Manager)입니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-130">An older, less-secure mechanism used on Windows domains is NT LAN Manager (NTLM).</span></span> <span data-ttu-id="ac4c3-131">Kerberos를 사용할 수 없는 경우(일반적으로 Windows 도메인 외부의 작업 그룹의 경우), NTLM을 대체 방법으로 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-131">In cases where Kerberos cannot be used (typically outside of a Windows domain, such as in a workgroup), NTLM can be used as an alternative.</span></span> <span data-ttu-id="ac4c3-132">NTLM을 IIS에 대한 보안 옵션으로 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-132">NTLM is also available as a security option for IIS.</span></span>  
  
 <span data-ttu-id="ac4c3-133">Windows 시스템에서 각 컴퓨터와 사용자를 역할 및 그룹에 할당하여 권한을 부여합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-133">On a Windows system, authorization works by assigning each computer and user to a set of roles and groups.</span></span> <span data-ttu-id="ac4c3-134">예를 들어, *관리자*역할에 속하는 사용자 또는 사용자 그룹이 모든 Windows 컴퓨터를 설정하고 제어해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-134">For example, every Windows computer must be set up and controlled by a person (or group of people) in the role of the *administrator*.</span></span> <span data-ttu-id="ac4c3-135">다른 역할은 훨씬 제한된 권한을 가진 *사용자*역할이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-135">Another role is that of the *user*, which has a much more constrained set of permissions.</span></span> <span data-ttu-id="ac4c3-136">역할 이외에 사용자는 그룹에 할당됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-136">In addition to the role, users are assigned to groups.</span></span> <span data-ttu-id="ac4c3-137">그룹을 사용하면 여러 사용자가 동일한 역할로 작업을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-137">A group allows multiple users to perform in the same role.</span></span> <span data-ttu-id="ac4c3-138">따라서 실제로 사용자를 그룹에 할당하여 Windows 컴퓨터를 관리합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-138">In practice, therefore, a Windows machine is administered by assigning users to groups.</span></span> <span data-ttu-id="ac4c3-139">예를 들어, 여러 사용자를 컴퓨터 사용자 그룹에 할당하고 훨씬 제한된 사용자 집합을 관리자 그룹에 할당할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-139">For example, several users can be assigned to the group of users of a computer, and a much more constrained set of users can be assigned to the group of administrators.</span></span> <span data-ttu-id="ac4c3-140">로컬 컴퓨터에서 관리자는 새 그룹을 만든 후 다른 사용자(또는 다른 그룹)를 해당 그룹에 할당할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-140">On a local machine, an administrator can also create new groups and assign other users (or even other groups) to the group.</span></span>  
  
 <span data-ttu-id="ac4c3-141">Windows를 실행하는 컴퓨터에서 디렉터리에 있는 모든 폴더를 보호할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-141">On a computer running Windows, every folder in a directory can be protected.</span></span> <span data-ttu-id="ac4c3-142">즉, 폴더를 선택하고 파일에 액세스할 수 있는 사용자를 제어하고, 해당 사용자가 파일을 복사, 변경(최대 권한이 부여된 경우) 또는 삭제할 수 있는지 여부와 파일을 폴더에 추가할 수 있는지 여부를 제어할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-142">That is, you can select a folder and control who can access the files, and whether or not they can copy the file, or (in the most privileged case) change a file, delete a file, or add files to the folder.</span></span> <span data-ttu-id="ac4c3-143">이를 액세스 제어라고 하며 여기에 사용되는 메커니즘을 ACL(액세스 제어 목록)이라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-143">This is known as access control, and the mechanism for it is known as the access control list (ACL).</span></span> <span data-ttu-id="ac4c3-144">ACL을 만들 때 도메인의 개별 멤버와 그룹에 액세스 권한을 할당할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-144">When creating the ACL, you can assign access privileges to any group or groups, as well as individual members of a domain.</span></span>  
  
 <span data-ttu-id="ac4c3-145">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] 인프라는 이러한 Windows 보안 메커니즘을 사용하도록 디자인되었습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-145">The [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] infrastructure is designed to use these Windows security mechanisms.</span></span> <span data-ttu-id="ac4c3-146">따라서 인트라넷에 배포되고 해당 클라이언트가 Windows 도메인의 멤버로 제한되는 서비스를 만들면 보안이 쉽게 구현됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-146">Therefore, if you are creating a service that is deployed on an intranet, and whose clients are restricted to members of the Windows domain, security is easily implemented.</span></span> <span data-ttu-id="ac4c3-147">유효한 사용자만 도메인에 로그온할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-147">Only valid users can log on to the domain.</span></span> <span data-ttu-id="ac4c3-148">사용자는 로그온한 후 Kerberos 컨트롤러를 사용하여 다른 컴퓨터 또는 응용 프로그램에 보안 컨텍스트를 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-148">After users are logged on, the Kerberos controller enables each user to establish secure contexts with any other computer or application.</span></span> <span data-ttu-id="ac4c3-149">로컬 컴퓨터에서 그룹을 쉽게 만들 수 있으며, 특정 폴더를 보호하면 해당 그룹을 사용하여 컴퓨터에서 액세스 권한을 할당할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-149">On a local machine, groups can be easily created, and when protecting specific folders, those groups can be used to assign access privileges on the computer.</span></span>  
  
## <a name="implementing-windows-security-on-intranet-services"></a><span data-ttu-id="ac4c3-150">인트라넷 서비스에서 Windows 보안 구현</span><span class="sxs-lookup"><span data-stu-id="ac4c3-150">Implementing Windows Security on Intranet Services</span></span>  
 <span data-ttu-id="ac4c3-151">Windows 도메인에서 단독으로 실행되는 응용 프로그램을 보안하려면 <xref:System.ServiceModel.WSHttpBinding> 또는 <xref:System.ServiceModel.NetTcpBinding> 바인딩의 기본 보안 설정을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-151">To secure an application that runs exclusively on a Windows domain, you can use the default security settings of either the <xref:System.ServiceModel.WSHttpBinding> or the <xref:System.ServiceModel.NetTcpBinding> binding.</span></span> <span data-ttu-id="ac4c3-152">기본적으로 동일한 Windows 도메인의 모든 사용자가 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] 서비스에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-152">By default, anyone on the same Windows domain can access [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] services.</span></span> <span data-ttu-id="ac4c3-153">이러한 사용자는 네트워크에 로그온되어 있기 때문에 신뢰됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-153">Because those users have logged on to the network, they are trusted.</span></span> <span data-ttu-id="ac4c3-154">서비스와 클라이언트 사이의 메시지는 기밀성을 위해 암호화되고 무결성을 위해 서명됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-154">The messages between a service and a client are encrypted for confidentiality and signed for integrity.</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="ac4c3-155"> 는 [How to: Secure a Service with Windows Credentials](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md)에 의존합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-155"> how to create a service that uses Windows security, see [How to: Secure a Service with Windows Credentials](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md).</span></span>  
  
### <a name="authorization-using-the-principalpermissionattribute-class"></a><span data-ttu-id="ac4c3-156">PrincipalPermissionAttribute 클래스를 사용하여 권한 부여</span><span class="sxs-lookup"><span data-stu-id="ac4c3-156">Authorization Using the PrincipalPermissionAttribute Class</span></span>  
 <span data-ttu-id="ac4c3-157">컴퓨터에서 리소스 액세스를 제한해야 하는 경우에 가장 쉬운 방법은 <xref:System.Security.Permissions.PrincipalPermissionAttribute> 클래스를 사용하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-157">If you need to restrict the access of resources on a computer, the easiest way is to use the <xref:System.Security.Permissions.PrincipalPermissionAttribute> class.</span></span> <span data-ttu-id="ac4c3-158">이 특성을 사용하면 사용자가 지정된 Windows 그룹이나 역할에 속하는지 또는 특정 사용자인지를 확인하여 서비스 작업 호출을 제한할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-158">This attribute enables you to restrict the invocation of service operations by demanding that the user be in a specified Windows group or role, or to be a specific user.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="ac4c3-159">[하는 방법: PrincipalPermissionAttribute 클래스를 사용 하 여 액세스를 제한](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-159"> [How to: Restrict Access with the PrincipalPermissionAttribute Class](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span></span>  
  
### <a name="impersonation"></a><span data-ttu-id="ac4c3-160">가장</span><span class="sxs-lookup"><span data-stu-id="ac4c3-160">Impersonation</span></span>  
 <span data-ttu-id="ac4c3-161">가장은 리소스에 대한 액세스를 제어하는 데 사용할 수 있는 다른 메커니즘입니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-161">Impersonation is another mechanism that you can use to control access to resources.</span></span> <span data-ttu-id="ac4c3-162">기본적으로 IIS가 호스트하는 서비스는 ASPNET 계정의 ID로 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-162">By default, a service hosted by IIS will run under the identity of the ASPNET account.</span></span> <span data-ttu-id="ac4c3-163">ASPNET 계정은 권한이 있는 리소스에만 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-163">The ASPNET account can access only the resources for which it has permission.</span></span> <span data-ttu-id="ac4c3-164">ASPNET 서비스 계정을 제외하도록 폴더에 대한 ACL을 설정하고 특정한 다른 ID에 해당 폴더에 대한 액세스를 허용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-164">However, it is possible to set the ACL for a folder to exclude the ASPNET service account, but allow certain other identities to access the folder.</span></span> <span data-ttu-id="ac4c3-165">ASPNET 계정에서 폴더에 액세스할 수 없는 경우 사용자에게 폴더에 대한 액세스를 허용하는 방법이 문제가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-165">The question then becomes how to allow those users to access the folder if the ASPNET account is not allowed to do so.</span></span> <span data-ttu-id="ac4c3-166">이 경우 가장을 사용하면 됩니다. 가장을 사용하면 서비스에서 클라이언트의 자격 증명을 사용하여 특정 리소스에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-166">The answer is to use impersonation, whereby the service is allowed to use the credentials of the client to access a particular resource.</span></span> <span data-ttu-id="ac4c3-167">다른 예로는 특정 사용자에게만 권한이 있는 SQL Server 데이터베이스에 액세스하는 경우가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-167">Another example is when accessing a SQL Server database to which only certain users have permission.</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="ac4c3-168">가장을 사용 하 여 참조 [하는 방법: 서비스에서 클라이언트 가장](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md) 및 [위임 및 가장](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-168"> using impersonation, see [How to: Impersonate a Client on a Service](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md) and [Delegation and Impersonation](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
## <a name="security-on-the-internet"></a><span data-ttu-id="ac4c3-169">인터넷 보안</span><span class="sxs-lookup"><span data-stu-id="ac4c3-169">Security on the Internet</span></span>  
 <span data-ttu-id="ac4c3-170">인터넷 보안은 인트라넷 보안과 동일한 요구 사항으로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-170">Security on the Internet consists of the same requirements as security on an intranet.</span></span> <span data-ttu-id="ac4c3-171">서비스는 자격 증명을 제공하여 인증서를 증명하고, 클라이언트는 서비스에 대한 ID를 증명해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-171">A service needs to present its credentials to prove its authenticity, and clients need to prove their identity to the service.</span></span> <span data-ttu-id="ac4c3-172">클라이언트의 ID가 증명되면 서비스는 클라이언트가 리소스에 대해 갖는 액세스 권한을 제어할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-172">Once a client's identity is proven, the service can control how much access the client has to resources.</span></span> <span data-ttu-id="ac4c3-173">그러나 인터넷의 특성이 서로 다르기 때문에 제공되는 자격 증명이 Windows 도메인에 사용된 자격 증명과 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-173">However, due to the heterogeneous nature of the Internet, the credentials presented differ from those used on a Windows domain.</span></span> <span data-ttu-id="ac4c3-174">Kerberos 컨트롤러는 자격 증명에 대한 티켓을 사용하여 도메인에서 사용자 인증을 처리하지만, 인터넷에서는 서비스와 클라이언트가 다양한 방법 중 하나를 사용하여 자격 증명을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-174">Whereas a Kerberos controller handles the authentication of users on a domain with tickets for credentials, on the Internet, services and clients rely on any one of several different ways to present credentials.</span></span> <span data-ttu-id="ac4c3-175">이 항목에서는 인터넷에서 액세스할 수 있는 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] 서비스를 만들 수 있는 일반적인 방법에 대해 알아 봅니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-175">The objective of this topic, however, is to present a common approach that enables you to create a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service that is accessible on the Internet.</span></span>  
  
### <a name="using-iis-and-aspnet"></a><span data-ttu-id="ac4c3-176">IIS 및 ASP.NET 사용</span><span class="sxs-lookup"><span data-stu-id="ac4c3-176">Using IIS and ASP.NET</span></span>  
 <span data-ttu-id="ac4c3-177">인터넷 보안 요구 사항과 문제 해결 메커니즘은 새로운 기능이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-177">The requirements of Internet security, and the mechanisms to solve those problems, are not new.</span></span> <span data-ttu-id="ac4c3-178">IIS는 Microsoft의 인터넷 웹 서버이며 이러한 문제를 해결하는 많은 보안 기능을 제공합니다. 또한 [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] 에는 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] 서비스에서 사용할 수 있는 보안 기능이 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-178">IIS is Microsoft's Web server for the Internet and has many security features that address those problems; in addition, [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] includes security features that [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] services can use.</span></span> <span data-ttu-id="ac4c3-179">이러한 보안 기능을 활용하려면 IIS에서 [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] 서비스를 호스트합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-179">To take advantage of these security features, host an [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service on IIS.</span></span>  
  
#### <a name="using-aspnet-membership-and-role-providers"></a><span data-ttu-id="ac4c3-180">ASP.NET 멤버 자격 및 역할 공급자 사용</span><span class="sxs-lookup"><span data-stu-id="ac4c3-180">Using ASP.NET Membership and Role Providers</span></span>  
 <span data-ttu-id="ac4c3-181">ASP.NET에는 멤버 자격 및 역할 공급자가 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-181">ASP.NET includes a membership and role provider.</span></span> <span data-ttu-id="ac4c3-182">공급자는 호출자를 인증하는 사용자 이름/암호 쌍으로 구성된 데이터베이스이며 각 호출자의 액세스 권한을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-182">The provider is a database of user name/password pairs for authenticating callers that also allows you to specify each caller's access privileges.</span></span> <span data-ttu-id="ac4c3-183">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)]에서는 구성을 통해 기존 멤버 자격 및 역할 공급자를 쉽게 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-183">With [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], you can easily use a pre-existing membership and role provider through configuration.</span></span> <span data-ttu-id="ac4c3-184">이 내용을 설명하는 샘플 응용 프로그램에 대해서는 [Membership and Role Provider](../../../docs/framework/wcf/samples/membership-and-role-provider.md) 샘플을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-184">For a sample application that demonstrates this, see the [Membership and Role Provider](../../../docs/framework/wcf/samples/membership-and-role-provider.md) sample.</span></span>  
  
### <a name="credentials-used-by-iis"></a><span data-ttu-id="ac4c3-185">IIS에 사용되는 자격 증명</span><span class="sxs-lookup"><span data-stu-id="ac4c3-185">Credentials Used by IIS</span></span>  
 <span data-ttu-id="ac4c3-186">Kerberos 컨트롤러에서 지원하는 Windows 도메인과 달리 인터넷은 시간에 관계없이 로그인하는 수백만 명의 사용자를 단일의 컨트롤러에서 관리할 수 없는 환경입니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-186">Unlike a Windows domain backed by a Kerberos controller, the Internet is an environment without a single controller to manage the millions of users logging on at any time.</span></span> <span data-ttu-id="ac4c3-187">대신 대부분의 인터넷에는 Secure Sockets Layer(또는 SSL) 인증서라고도 하는 X.509 형태의 자격 증명이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-187">Instead, credentials on the Internet most often are in the form of X.509 certificates (also known as Secure Sockets Layer, or SSL, certificates).</span></span> <span data-ttu-id="ac4c3-188">이러한 인증서는 일반적으로 *인증 기관*에 의해 발급되며, 인증 기관은 인증서의 신뢰성과 발급 받은 사람을 보증하는 타사일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-188">These certificates are typically issued by a *certification authority*, which can be a third-party company that vouches for the authenticity of the certificate and the person it has been issued to.</span></span> <span data-ttu-id="ac4c3-189">인터넷에서 서비스를 노출하려면 그런 신뢰할 수 있는 인증서를 제공하여 서비스를 인증해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-189">To expose your service on the Internet, you must also supply such a trusted certificate to authenticate your service.</span></span>  
  
 <span data-ttu-id="ac4c3-190">여기서 인증서를 어떻게 발급 받는지에 대한 질문이 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-190">The question arises at this point, how do you get such a certificate?</span></span> <span data-ttu-id="ac4c3-191">Authenticode 또는 VeriSign과 같은 타사 인증 기관으로 이동하여 서비스를 배포할 준비가 되면 서비스에 대한 인증서를 구매합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-191">One approach is to go to a third-party certification authority, such as Authenticode or VeriSign, when you are ready to deploy your service, and purchase a certificate for your service.</span></span> <span data-ttu-id="ac4c3-192">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] 에서 개발 단계를 진행 중이지만 아직 인증서를 구매하지 않은 경우 프로덕션 배포를 시뮬레이션하는 데 사용할 수 있는 X.509 인증서를 만드는 도구와 기술이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-192">However, if you are in the development phase with [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] and not yet ready to commit to purchasing a certificate, tools and techniques exist for creating X.509 certificates that you can use to simulate a production deployment.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="ac4c3-193">[인증서 작업](../../../docs/framework/wcf/feature-details/working-with-certificates.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-193"> [Working with Certificates](../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span></span>  
  
## <a name="security-modes"></a><span data-ttu-id="ac4c3-194">보안 모드</span><span class="sxs-lookup"><span data-stu-id="ac4c3-194">Security Modes</span></span>  
 <span data-ttu-id="ac4c3-195">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] 보안을 프로그래밍할 경우 몇 가지 중요 사항을 결정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-195">Programming [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] security entails a few critical decision points.</span></span> <span data-ttu-id="ac4c3-196">가장 기본적인 사항 중 하나로 *보안 모드*를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-196">One of the most basic is the choice of *security mode*.</span></span> <span data-ttu-id="ac4c3-197">*전송 모드* 와 *메시지 모드*의 두 가지 주요 보안 모드가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-197">The two major security modes are *transport mode* and *message mode*.</span></span>  
  
 <span data-ttu-id="ac4c3-198">두 주요 모드의 의미를 결합하는 세 번째 모드는 *메시지 자격 증명을 사용한 전송 모드*입니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-198">A third mode, which combines the semantics of both major modes, is *transport with message credentials mode*.</span></span>  
  
 <span data-ttu-id="ac4c3-199">아래에 설명한 것처럼 보안 모드에 따라 메시지가 보안되는 방법이 결정되고, 모드별로 장단점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-199">The security mode determines how messages are secured, and each choice has advantages and disadvantages, as explained below.</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="ac4c3-200"> 는 [How to: Set the Security Mode](../../../docs/framework/wcf/how-to-set-the-security-mode.md)에 의존합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-200"> setting the security mode, see [How to: Set the Security Mode](../../../docs/framework/wcf/how-to-set-the-security-mode.md).</span></span>  
  
#### <a name="transport-mode"></a><span data-ttu-id="ac4c3-201">전송 모드</span><span class="sxs-lookup"><span data-stu-id="ac4c3-201">Transport Mode</span></span>  
 <span data-ttu-id="ac4c3-202">네트워크와 응용 프로그램 사이에는 여러 계층이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-202">There are several layers between the network and the application.</span></span> <span data-ttu-id="ac4c3-203">그 중 하나로 끝점 간의 메시지 전송을 관리하는 *전송* 계층 이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-203">One of these is the *transport* layer*,* which manages the transfer of messages between endpoints.</span></span> <span data-ttu-id="ac4c3-204">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] 에서는 메시지 전송을 보안할 수 있는 여러 전송 프로토콜을 사용한다는 사실을 이해해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-204">For the present purpose, it is only required that you understand that [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] uses several transport protocols, each of which can secure the transfer of messages.</span></span> <span data-ttu-id="ac4c3-205">([!INCLUDE[crabout](../../../includes/crabout-md.md)] 전송의 경우 참조 [전송](../../../docs/framework/wcf/feature-details/transports.md).)</span><span class="sxs-lookup"><span data-stu-id="ac4c3-205">([!INCLUDE[crabout](../../../includes/crabout-md.md)] transports, see [Transports](../../../docs/framework/wcf/feature-details/transports.md).)</span></span>  
  
 <span data-ttu-id="ac4c3-206">일반적으로 사용되는 프로토콜은 HTTP 및 TCP입니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-206">A commonly used protocol is HTTP; another is TCP.</span></span> <span data-ttu-id="ac4c3-207">이러한 각 프로토콜은 프로토콜별로 특정한 메커니즘을 사용하여 메시지 전송을 보안할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-207">Each of these protocols can secure message transfer by a mechanism (or mechanisms) particular to the protocol.</span></span> <span data-ttu-id="ac4c3-208">예를 들어, HTTP 프로토콜은 SSL over HTTP(약어로 "HTTPS")를 사용하여 보안됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-208">For example, the HTTP protocol is secured using SSL over HTTP, commonly abbreviated as "HTTPS."</span></span> <span data-ttu-id="ac4c3-209">따라서 보안을 위한 전송 모드를 선택하면 해당 프로토콜에 명시된 메커니즘을 사용하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-209">Thus, when you select the transport mode for security, you are choosing to use the mechanism as dictated by the protocol.</span></span> <span data-ttu-id="ac4c3-210">예를 들어, <xref:System.ServiceModel.WSHttpBinding> 클래스를 선택하고 보안 모드를 전송으로 설정하면 HTTPS(SSL over HTTP)를 보안 메커니즘으로 선택한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-210">For example, if you select the <xref:System.ServiceModel.WSHttpBinding> class and set its security mode to Transport, you are selecting SSL over HTTP (HTTPS) as the security mechanism.</span></span> <span data-ttu-id="ac4c3-211">전송 모드는 비교적 낮은 수준에서 보안이 통합되므로 메시지 모드보다 더 효율적이라는 이점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-211">The advantage of the transport mode is that it is more efficient than message mode because security is integrated at a comparatively low level.</span></span> <span data-ttu-id="ac4c3-212">전송 모드를 사용할 경우 전송 사양에 따라 보안 메커니즘을 구현해야 하므로, 메시지가 지점 간에만 전송을 통해 안전하게 전달될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-212">When using transport mode, the security mechanism must be implemented according to the specification for the transport, and thus messages can flow securely only from point-to-point over the transport.</span></span>  
  
#### <a name="message-mode"></a><span data-ttu-id="ac4c3-213">메시지 모드</span><span class="sxs-lookup"><span data-stu-id="ac4c3-213">Message Mode</span></span>  
 <span data-ttu-id="ac4c3-214">반면에 메시지 모드에서는 보안 데이터를 모든 메시지에 포함시켜 보안을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-214">In contrast, message mode provides security by including the security data as part of every message.</span></span> <span data-ttu-id="ac4c3-215">XML 및 SOAP 보안 헤더를 사용하여 메시지의 무결성과 기밀성을 확인하는 데 필요한 자격 증명과 기타 데이터를 모든 메시지에 포함시킵니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-215">Using XML and SOAP security headers, the credentials and other data needed to ensure the integrity and confidentiality of the message are included with every message.</span></span> <span data-ttu-id="ac4c3-216">모든 메시지에는 보안 데이터가 포함되어 있으므로, 각 메시지가 개별적으로 처리되어야 하기 때문에 성능이 감소됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-216">Every message includes security data, so it results in a toll on performance because each message must be individually processed.</span></span> <span data-ttu-id="ac4c3-217">전송 모드에서 전송 계층을 보안한 후에는 모든 메시지가 자유롭게 전달됩니다. 그러나 메시지 보안은 전송 보안보다 더 유연하다는 한 가지 이점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-217">(In transport mode, once the transport layer is secured, all messages flow freely.) However, message security has one advantage over transport security: it is more flexible.</span></span> <span data-ttu-id="ac4c3-218">즉, 전송에 의해 보안 요구 사항이 결정되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-218">That is, the security requirements are not determined by the transport.</span></span> <span data-ttu-id="ac4c3-219">모든 형식의 클라이언트 자격 증명을 사용하여 메시지를 보안할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-219">You can use any type of client credential to secure the message.</span></span> <span data-ttu-id="ac4c3-220">전송 모드에서는 전송 프로토콜에 따라 사용 가능한 클라이언트 자격 증명 형식이 결정됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-220">(In transport mode, the transport protocol determines the type of client credential that you can use.)</span></span>  
  
#### <a name="transport-with-message-credentials"></a><span data-ttu-id="ac4c3-221">메시지 자격 증명을 사용한 전송</span><span class="sxs-lookup"><span data-stu-id="ac4c3-221">Transport with Message Credentials</span></span>  
 <span data-ttu-id="ac4c3-222">세 번째 모드에서는 전송 보안과 메시지 보안의 장점을 결합합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-222">The third mode combines the best of both transport and message security.</span></span> <span data-ttu-id="ac4c3-223">이 모드에서는 전송 보안을 사용하여 모든 메시지의 기밀성과 무결성을 효과적으로 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-223">In this mode, transport security is used to efficiently ensure the confidentiality and integrity of every message.</span></span> <span data-ttu-id="ac4c3-224">동시에 모든 메시지에는 메시지를 인증할 수 있는 자격 증명 데이터가 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-224">At the same time, every message includes its credential data, which allows the message to be authenticated.</span></span> <span data-ttu-id="ac4c3-225">인증을 사용하여 권한 부여를 구현할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-225">With authentication, authorization can also be implemented.</span></span> <span data-ttu-id="ac4c3-226">발신자를 인증하여 발신자의 ID에 따라 리소스에 대한 액세스를 허용하거나 거부할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-226">By authenticating a sender, access to resources can be granted (or denied) according to the sender's identity.</span></span>  
  
## <a name="specifying-the-client-credential-type-and-credential-value"></a><span data-ttu-id="ac4c3-227">클라이언트 자격 증명 형식 및 자격 증명 값 지정</span><span class="sxs-lookup"><span data-stu-id="ac4c3-227">Specifying the Client Credential Type and Credential Value</span></span>  
 <span data-ttu-id="ac4c3-228">보안 모드를 선택한 후 클라이언트 자격 증명 형식을 지정할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-228">After you have selected a security mode, you may also want to specify a client credential type.</span></span> <span data-ttu-id="ac4c3-229">클라이언트 자격 증명 형식은 클라이언트가 서버에 자신을 인증하는 데 사용해야 하는 형식을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-229">The client credential type specifies what type a client must use to authenticate itself to the server.</span></span>  
  
 <span data-ttu-id="ac4c3-230">모든 시나리오에 클라이언트 자격 증명 형식이 필요한 것은 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-230">Not all scenarios require a client credential type, however.</span></span> <span data-ttu-id="ac4c3-231">HTTPS(SSL over HTTP)를 사용하여 서비스가 클라이언트에 자체 인증합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-231">Using SSL over HTTP (HTTPS), a service authenticates itself to the client.</span></span> <span data-ttu-id="ac4c3-232">이 인증의 일부로 *협상*이라는 프로세스에서 서비스의 인증서를 클라이언트에 보냅니다</span><span class="sxs-lookup"><span data-stu-id="ac4c3-232">As part of this authentication, the service's certificate is sent to the client in a process called *negotiation*.</span></span> <span data-ttu-id="ac4c3-233">SSL 보안 전송에서는 모든 메시지가 기밀 상태로 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-233">The SSL-secured transport ensures that all messages are confidential.</span></span>  
  
 <span data-ttu-id="ac4c3-234">클라이언트를 인증해야 하는 서비스를 만들 경우 선택한 전송 및 모드에 따라 클라이언트 자격 증명 형식을 다르게 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-234">If you are creating a service that requires that the client be authenticated, your choice of a client credential type depends on the transport and mode selected.</span></span> <span data-ttu-id="ac4c3-235">예를 들어, HTTP 전송을 사용하고 전송 모드를 선택한 경우 기본, 다이제스트 등과 같은 다양한 선택 옵션이 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-235">For example, using the HTTP transport and choosing transport mode gives you several choices, such as Basic, Digest, and others.</span></span> <span data-ttu-id="ac4c3-236">전송[!INCLUDE[crabout](../../../includes/crabout-md.md)] , [Understanding HTTP Authentication](../../../docs/framework/wcf/feature-details/understanding-http-authentication.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-236">([!INCLUDE[crabout](../../../includes/crabout-md.md)] these credential types, see [Understanding HTTP Authentication](../../../docs/framework/wcf/feature-details/understanding-http-authentication.md).)</span></span>  
  
 <span data-ttu-id="ac4c3-237">Windows 도메인에서 네트워크의 다른 사용자만 사용할 수 있는 서비스를 만들 경우 Windows 클라이언트 자격 증명 형식을 사용하는 것이 가장 간편합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-237">If you are creating a service on a Windows domain that will be available only to other users of the network, the easiest to use is the Windows client credential type.</span></span> <span data-ttu-id="ac4c3-238">서비스에 인증서를 제공해야 할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-238">However, you may also need to provide a service with a certificate.</span></span> <span data-ttu-id="ac4c3-239">자세한 내용은 [How to: Specify Client Credential Values](../../../docs/framework/wcf/how-to-specify-client-credential-values.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-239">This is shown in [How to: Specify Client Credential Values](../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span></span>  
  
#### <a name="credential-values"></a><span data-ttu-id="ac4c3-240">자격 증명 값</span><span class="sxs-lookup"><span data-stu-id="ac4c3-240">Credential Values</span></span>  
 <span data-ttu-id="ac4c3-241">*자격 증명 값* 은 서비스에 사용되는 실제 자격 증명입니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-241">A *credential value* is the actual credential the service uses.</span></span> <span data-ttu-id="ac4c3-242">자격 증명 형식을 지정한 경우 실제 자격 증명을 사용하여 서비스를 구성해야 할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-242">Once you have specified a credential type, you may also need to configure your service with the actual credentials.</span></span> <span data-ttu-id="ac4c3-243">Windows를 선택하고 서비스가 Windows 도메인에서 실행되는 경우에는 실제 자격 증명 값을 지정하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-243">If you have selected Windows (and the service will run on a Windows domain), then you do not specify an actual credential value.</span></span>  
  
## <a name="identity"></a><span data-ttu-id="ac4c3-244">클레임</span><span class="sxs-lookup"><span data-stu-id="ac4c3-244">Identity</span></span>  
 <span data-ttu-id="ac4c3-245">[!INCLUDE[indigo2](../../../includes/indigo2-md.md)]에서 용어 *ID* 는 서버와 클라이언트에서 서로 다른 의미로 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-245">In [!INCLUDE[indigo2](../../../includes/indigo2-md.md)], the term *identity* has different meanings to the server and the client.</span></span> <span data-ttu-id="ac4c3-246">간략하게 말해서 서비스를 실행할 때 ID는 인증 후에 보안 컨텍스트에 할당됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-246">In brief, when running a service, an identity is assigned to the security context after authentication.</span></span> <span data-ttu-id="ac4c3-247">실제 ID를 보려면 <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> 클래스의 <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> 및 <xref:System.ServiceModel.ServiceSecurityContext> 속성을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-247">To view the actual identity, check the <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> and <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> properties of the <xref:System.ServiceModel.ServiceSecurityContext> class.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="ac4c3-248">[하는 방법: 보안 컨텍스트 검사](../../../docs/framework/wcf/how-to-examine-the-security-context.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-248"> [How to: Examine the Security Context](../../../docs/framework/wcf/how-to-examine-the-security-context.md).</span></span>  
  
 <span data-ttu-id="ac4c3-249">반대로 클라이언트에서는 ID가 서비스의 유효성을 검사하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-249">In contrast, on the client, identity is used to validate the service.</span></span> <span data-ttu-id="ac4c3-250">디자인 타임에 클라이언트 개발자 설정할 수는 [ \<identity >](../../../docs/framework/configure-apps/file-schema/wcf/identity.md) 요소는 서비스에서 가져온 값입니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-250">At design time, a client developer can set the [\<identity>](../../../docs/framework/configure-apps/file-schema/wcf/identity.md) element to a value obtained from the service.</span></span> <span data-ttu-id="ac4c3-251">런타임에 클라이언트는 서비스의 실제 ID와 비교하여 요소 값을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-251">At run time, the client checks the value of the element against the actual identity of the service.</span></span> <span data-ttu-id="ac4c3-252">확인에 실패하면 클라이언트는 통신을 종료합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-252">If the check fails, the client terminates the communication.</span></span> <span data-ttu-id="ac4c3-253">값은 서비스가 특정 사용자의 ID로 실행되는 경우 UPN(User Principal Name)이고, 서비스가 컴퓨터 계정에서 실행되는 경우 SPN(서비스 사용자 이름)입니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-253">The value can be a user principal name (UPN) if the service runs under a particular user's identity or a service principal name (SPN) if the service runs under a machine account.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="ac4c3-254">[Id 및 인증 서비스](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-254"> [Service Identity and Authentication](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span></span> <span data-ttu-id="ac4c3-255">자격 증명은 인증서이거나 인증서를 식별하는 인증서에 있는 필드일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-255">The credential could also be a certificate, or a field found on a certificate that identifies the certificate.</span></span>  
  
## <a name="protection-levels"></a><span data-ttu-id="ac4c3-256">보호 수준</span><span class="sxs-lookup"><span data-stu-id="ac4c3-256">Protection Levels</span></span>  
 <span data-ttu-id="ac4c3-257">`ProtectionLevel` 속성은 여러 특성 클래스(예: <xref:System.ServiceModel.ServiceContractAttribute> 및 <xref:System.ServiceModel.OperationContractAttribute> 클래스)에서 발생됩니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-257">The `ProtectionLevel` property occurs on several attribute classes (such as the <xref:System.ServiceModel.ServiceContractAttribute> and the <xref:System.ServiceModel.OperationContractAttribute> classes).</span></span> <span data-ttu-id="ac4c3-258">보호 수준은 서비스를 지원하는 메시지(또는 메시지 부분)가 서명되어 있는지, 서명 및 암호화되어 있는지 또는 서명이나 암호화 없이 보내졌는지를 지정하는 값입니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-258">The protection level is a value that specifies whether the messages (or message parts) that support a service are signed, signed and encrypted, or sent without signatures or encryption.</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="ac4c3-259">속성 참조 [이해 보호 수준을](../../../docs/framework/wcf/understanding-protection-level.md), 프로그래밍 예제에 대 한 참조 및 [하는 방법: ProtectionLevel 속성 설정](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-259"> the property, see [Understanding Protection Level](../../../docs/framework/wcf/understanding-protection-level.md), and for programming examples, see [How to: Set the ProtectionLevel Property](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md).</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="ac4c3-260"> 을 사용한 서비스 계정 디자인 `ProtectionLevel` , [Designing Service Contracts](../../../docs/framework/wcf/designing-service-contracts.md)에 의존합니다.</span><span class="sxs-lookup"><span data-stu-id="ac4c3-260"> designing a service contract with the `ProtectionLevel` in context, see [Designing Service Contracts](../../../docs/framework/wcf/designing-service-contracts.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ac4c3-261">참고 항목</span><span class="sxs-lookup"><span data-stu-id="ac4c3-261">See Also</span></span>  
 <xref:System.ServiceModel>  
 <xref:System.ServiceModel.Description.ServiceCredentials>  
 <xref:System.ServiceModel.ServiceContractAttribute>  
 <xref:System.ServiceModel.OperationContractAttribute>  
 [<span data-ttu-id="ac4c3-262">서비스 ID 및 인증</span><span class="sxs-lookup"><span data-stu-id="ac4c3-262">Service Identity and Authentication</span></span>](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md)  
 [<span data-ttu-id="ac4c3-263">보호 수준 이해</span><span class="sxs-lookup"><span data-stu-id="ac4c3-263">Understanding Protection Level</span></span>](../../../docs/framework/wcf/understanding-protection-level.md)  
 [<span data-ttu-id="ac4c3-264">위임 및 가장</span><span class="sxs-lookup"><span data-stu-id="ac4c3-264">Delegation and Impersonation</span></span>](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md)  
 [<span data-ttu-id="ac4c3-265">서비스 계약 디자인</span><span class="sxs-lookup"><span data-stu-id="ac4c3-265">Designing Service Contracts</span></span>](../../../docs/framework/wcf/designing-service-contracts.md)  
 [<span data-ttu-id="ac4c3-266">보안</span><span class="sxs-lookup"><span data-stu-id="ac4c3-266">Security</span></span>](../../../docs/framework/wcf/feature-details/security.md)  
 [<span data-ttu-id="ac4c3-267">보안 개요</span><span class="sxs-lookup"><span data-stu-id="ac4c3-267">Security Overview</span></span>](../../../docs/framework/wcf/feature-details/security-overview.md)  
 [<span data-ttu-id="ac4c3-268">방법: ProtectionLevel 속성 설정</span><span class="sxs-lookup"><span data-stu-id="ac4c3-268">How to: Set the ProtectionLevel Property</span></span>](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md)  
 [<span data-ttu-id="ac4c3-269">방법: Windows 자격 증명을 사용하여 서비스에 보안 설정</span><span class="sxs-lookup"><span data-stu-id="ac4c3-269">How to: Secure a Service with Windows Credentials</span></span>](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md)  
 [<span data-ttu-id="ac4c3-270">방법: 보안 모드 설정</span><span class="sxs-lookup"><span data-stu-id="ac4c3-270">How to: Set the Security Mode</span></span>](../../../docs/framework/wcf/how-to-set-the-security-mode.md)  
 [<span data-ttu-id="ac4c3-271">방법: 클라이언트 자격 증명 형식 지정</span><span class="sxs-lookup"><span data-stu-id="ac4c3-271">How to: Specify the Client Credential Type</span></span>](../../../docs/framework/wcf/how-to-specify-the-client-credential-type.md)  
 [<span data-ttu-id="ac4c3-272">방법: PrincipalPermissionAttribute 클래스를 사용하여 액세스 제한</span><span class="sxs-lookup"><span data-stu-id="ac4c3-272">How to: Restrict Access with the PrincipalPermissionAttribute Class</span></span>](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)  
 [<span data-ttu-id="ac4c3-273">방법: 서비스에서 클라이언트 가장</span><span class="sxs-lookup"><span data-stu-id="ac4c3-273">How to: Impersonate a Client on a Service</span></span>](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md)  
 [<span data-ttu-id="ac4c3-274">방법: 보안 컨텍스트 검사</span><span class="sxs-lookup"><span data-stu-id="ac4c3-274">How to: Examine the Security Context</span></span>](../../../docs/framework/wcf/how-to-examine-the-security-context.md)
