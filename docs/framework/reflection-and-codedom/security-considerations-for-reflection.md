---
title: "리플렉션의 보안 고려 사항"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- permissions [.NET Framework], reflection
- MethodInfo parameters
- reflection, security
- partial trust,reflection
- nonpublic members
- reflection,partial trust
- link demands
ms.assetid: 42d9dc2a-8fcc-4ff3-b002-4ff260ef3dc5
caps.latest.revision: "21"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: ef0f9aac9222badb43e19c2901ff705485d5cf3a
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/22/2017
---
# <a name="security-considerations-for-reflection"></a><span data-ttu-id="ad9f7-102">리플렉션의 보안 고려 사항</span><span class="sxs-lookup"><span data-stu-id="ad9f7-102">Security Considerations for Reflection</span></span>
<span data-ttu-id="ad9f7-103">리플렉션은 형식 및 멤버에 대한 정보를 가져오고 멤버에 액세스하는 기능(즉, 메서드 및 생성자 호출, 속성 값 가져오기 및 설정, 이벤트 처리기 추가 및 제거 등)을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-103">Reflection provides the ability to obtain information about types and members, and to access members (that is, to call methods and constructors, to get and set property values, to add and remove event handlers, and so on).</span></span> <span data-ttu-id="ad9f7-104">리플렉션을 사용하여 형식 및 멤버에 대한 정보를 가져오는 기능은 제한되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-104">The use of reflection to obtain information about types and members is not restricted.</span></span> <span data-ttu-id="ad9f7-105">모든 코드에서 리플렉션을 사용하여 다음 작업을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-105">All code can use reflection to perform the following tasks:</span></span>  
  
-   <span data-ttu-id="ad9f7-106">형식 및 멤버를 열거하고 해당 메타데이터를 검사합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-106">Enumerate types and members, and examine their metadata.</span></span>  
  
-   <span data-ttu-id="ad9f7-107">어셈블리 및 모듈을 열거하고 검사합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-107">Enumerate and examine assemblies and modules.</span></span>  
  
 <span data-ttu-id="ad9f7-108">반면, 리플렉션을 사용하여 멤버에 액세스하는 경우 제한 사항이 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-108">Using reflection to access members, by contrast, is subject to restrictions.</span></span> <span data-ttu-id="ad9f7-109">[!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)]부터 신뢰할 수 있는 코드만 리플렉션을 사용하여 보안에 중요한 멤버에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-109">Beginning with the [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], only trusted code can use reflection to access security-critical members.</span></span> <span data-ttu-id="ad9f7-110">또한 신뢰할 수 있는 코드만 리플렉션을 사용하여 컴파일된 코드에서 직접 액세스할 수 없는 public이 아닌 멤버에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-110">Furthermore, only trusted code can use reflection to access nonpublic members that would not be directly accessible to compiled code.</span></span> <span data-ttu-id="ad9f7-111">마지막으로, 안전상 중요한 멤버에 액세스하기 위해 리플렉션을 사용하는 코드는 컴파일된 코드와 마찬가지로 안전상 중요한 멤버에서 요구하는 권한을 가져야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-111">Finally, code that uses reflection to access a safe-critical member must have whatever permissions the safe-critical member demands, just as with compiled code.</span></span>  
  
 <span data-ttu-id="ad9f7-112">필요한 권한이 적용되는 경우 코드에서 리플렉션을 사용하여 다음 종류의 액세스를 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-112">Subject to necessary permissions, code can use reflection to perform the following kinds of access:</span></span>  
  
-   <span data-ttu-id="ad9f7-113">보안에 중요하지 않은 public 멤버에 액세스합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-113">Access public members that are not security-critical.</span></span>  
  
-   <span data-ttu-id="ad9f7-114">해당 멤버가 보안에 중요하지 않은 경우 컴파일된 코드에서 액세스할 수 있는 public이 아닌 멤버에 액세스합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-114">Access nonpublic members that would be accessible to compiled code, if those members are not security-critical.</span></span> <span data-ttu-id="ad9f7-115">public이 아닌 이러한 멤버의 예는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-115">Examples of such nonpublic members include:</span></span>  
  
    -   <span data-ttu-id="ad9f7-116">호출 코드 기본 클래스의 보호된 멤버</span><span class="sxs-lookup"><span data-stu-id="ad9f7-116">Protected members of the calling code's base classes.</span></span> <span data-ttu-id="ad9f7-117">(리플렉션에서는 제품군 수준 액세스라고 함)</span><span class="sxs-lookup"><span data-stu-id="ad9f7-117">(In reflection, this is referred to as family-level access.)</span></span>  
  
    -   <span data-ttu-id="ad9f7-118">호출 코드 어셈블리의 `internal` 멤버(Visual Basic에서는 `Friend` 멤버)</span><span class="sxs-lookup"><span data-stu-id="ad9f7-118">`internal` members (`Friend` members in Visual Basic) in the calling code's assembly.</span></span> <span data-ttu-id="ad9f7-119">(리플렉션에서는 어셈블리 수준 액세스라고 함)</span><span class="sxs-lookup"><span data-stu-id="ad9f7-119">(In reflection, this is referred to as assembly-level access.)</span></span>  
  
    -   <span data-ttu-id="ad9f7-120">호출 코드를 포함하는 다른 클래스 인스턴스의 private 멤버</span><span class="sxs-lookup"><span data-stu-id="ad9f7-120">Private members of other instances of the class that contains the calling code.</span></span>  
  
 <span data-ttu-id="ad9f7-121">예를 들어 샌드박스 응용 프로그램 도메인에서 실행되는 코드는 응용 프로그램 도메인이 추가 권한을 부여하지 않는 한 이 목록에 설명된 액세스로 제한됩니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-121">For example, code that is run in a sandboxed application domain is limited to the access described in this list, unless the application domain grants additional permissions.</span></span>  
  
 <span data-ttu-id="ad9f7-122">[!INCLUDE[net_v20SP1_long](../../../includes/net-v20sp1-long-md.md)]부터 일반적으로 액세스할 수 없는 멤버에 액세스하려고 하면 대상 개체 및 <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> 플래그가 있는 <xref:System.Security.Permissions.ReflectionPermission>의 권한 부여 집합에 대한 요구가 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-122">Starting with the [!INCLUDE[net_v20SP1_long](../../../includes/net-v20sp1-long-md.md)], attempting to access members that are normally inaccessible generates a demand for the grant set of the target object plus <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag.</span></span> <span data-ttu-id="ad9f7-123">완전 신뢰 수준으로 실행되는 코드(예: 명령줄에서 시작된 응용 프로그램의 코드)는 항상 이러한 권한을 충족시킬 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-123">Code that is running with full trust (for example, code in an application that is launched from the command line) can always satisfy these permissions.</span></span> <span data-ttu-id="ad9f7-124">이 경우 이 문서의 뒷부분에 설명된 것처럼 보안에 중요한 멤버에 액세스할 때의 제한 사항이 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-124">(This is subject to limitations in accessing security-critical members, as described later in this article.)</span></span>  
  
 <span data-ttu-id="ad9f7-125">필요한 경우 이 문서의 뒷부분에 있는 [일반적으로 액세스할 수 없는 멤버 액세스](#accessingNormallyInaccessible) 섹션에 설명된 대로 샌드박스 응용 프로그램 도메인에서 <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> 플래그로 <xref:System.Security.Permissions.ReflectionPermission>을 부여할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-125">Optionally, a sandboxed application domain can grant <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag, as described in the section [Accessing Members That Are Normally Inaccessible](#accessingNormallyInaccessible), later in this article.</span></span>  
  
<a name="accessingSecurityCritical"></a>   
## <a name="accessing-security-critical-members"></a><span data-ttu-id="ad9f7-126">보안에 중요한 멤버 액세스</span><span class="sxs-lookup"><span data-stu-id="ad9f7-126">Accessing Security-Critical Members</span></span>  
 <span data-ttu-id="ad9f7-127"><xref:System.Security.SecurityCriticalAttribute>가 있거나, <xref:System.Security.SecurityCriticalAttribute>를 가진 형식에 속하거나, 보안에 중요한 어셈블리에 있는 경우 멤버가 보안에 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-127">A member is security-critical if it has the <xref:System.Security.SecurityCriticalAttribute>, if it belongs to a type that has the <xref:System.Security.SecurityCriticalAttribute>, or if it is in a security-critical assembly.</span></span> <span data-ttu-id="ad9f7-128">[!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)]부터 보안에 중요한 멤버에 액세스하기 위한 규칙은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-128">Beginning with the [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], the rules for accessing security-critical members are as follows:</span></span>  
  
-   <span data-ttu-id="ad9f7-129">코드를 완전히 신뢰할 수 있는 경우에도 투명 코드는 리플렉션을 사용하여 보안에 중요한 멤버에 액세스할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-129">Transparent code cannot use reflection to access security-critical members, even if the code is fully trusted.</span></span> <span data-ttu-id="ad9f7-130"><xref:System.MethodAccessException>, <xref:System.FieldAccessException> 또는 <xref:System.TypeAccessException>이 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-130">A <xref:System.MethodAccessException>, <xref:System.FieldAccessException>, or <xref:System.TypeAccessException> is thrown.</span></span>  
  
-   <span data-ttu-id="ad9f7-131">부분 신뢰로 실행되는 코드는 투명으로 처리됩니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-131">Code that is running with partial trust is treated as transparent.</span></span>  
  
 <span data-ttu-id="ad9f7-132">이러한 규칙은 보안에 중요한 멤버를 컴파일된 코드에서 직접 액세스하는지 또는 리플렉션을 사용하여 액세스하는지에 관계없이 동일합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-132">These rules are the same whether a security-critical member is accessed directly by compiled code, or accessed by using reflection.</span></span>  
  
 <span data-ttu-id="ad9f7-133">명령줄에서 실행 되는 응용 프로그램 코드는 완전 신뢰로 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-133">Application code that is run from the command line runs with full trust.</span></span> <span data-ttu-id="ad9f7-134">투명으로 표시되지 않은 한 리플렉션을 사용하여 보안에 중요한 멤버에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-134">As long as it is not marked as transparent, it can use reflection to access security-critical members.</span></span> <span data-ttu-id="ad9f7-135">동일한 코드가 부분 신뢰로 실행되는 경우(예: 샌드박스 응용 프로그램 도메인에서) 어셈블리의 신뢰 수준에 따라 보안에 중요한 코드를 액세스할 수 있는지 여부가 결정됩니다. 어셈블리에 강력한 이름이 있고 전역 어셈블리 캐시에 설치된 경우 신뢰할 수 있는 어셈블리이며 보안에 중요한 멤버를 호출할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-135">When the same code is run with partial trust (for example, in a sandboxed application domain) the assembly's trust level determines whether it can access security-critical code: If the assembly has a strong name and is installed in the global assembly cache, it is a trusted assembly and can call security-critical members.</span></span> <span data-ttu-id="ad9f7-136">신뢰할 수 없는 경우 투명으로 표시되지 않았어도 투명하게 되며 보안에 중요한 멤버를 액세스할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-136">If it is not trusted, it becomes transparent even though it was not marked as transparent, and it cannot access security-critical members.</span></span>  
  
 <span data-ttu-id="ad9f7-137">[!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)]의 보안 모델에 대한 자세한 내용은 [보안 변경 내용](../../../docs/framework/security/security-changes.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-137">For more information about the security model in the [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)], see [Security Changes](../../../docs/framework/security/security-changes.md).</span></span>  
  
## <a name="reflection-and-transparency"></a><span data-ttu-id="ad9f7-138">리플렉션 및 투명도</span><span class="sxs-lookup"><span data-stu-id="ad9f7-138">Reflection and Transparency</span></span>  
 <span data-ttu-id="ad9f7-139">[!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)]부터 공용 언어 런타임에서 어셈블리의 신뢰 수준 및 응용 프로그램 도메인의 신뢰 수준을 포함하여 여러 요소의 형식 또는 멤버에 대한 투명도 수준을 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-139">Beginning with the [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)], the common language runtime determines the transparency level of a type or member from several factors, including the trust level of the assembly and the trust level of the application domain.</span></span> <span data-ttu-id="ad9f7-140">리플렉션은 형식의 투명도 수준을 검색할 수 있게 해주는 <xref:System.Type.IsSecurityCritical%2A>, <xref:System.Type.IsSecuritySafeCritical%2A> 및 <xref:System.Type.IsSecurityTransparent%2A> 속성을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-140">Reflection provides the <xref:System.Type.IsSecurityCritical%2A>, <xref:System.Type.IsSecuritySafeCritical%2A>, and <xref:System.Type.IsSecurityTransparent%2A> properties to enable you to discover the transparency level of a type.</span></span> <span data-ttu-id="ad9f7-141">다음 표에서는 이러한 속성의 유효한 조합을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-141">The following table shows the valid combinations of these properties.</span></span>  
  
|<span data-ttu-id="ad9f7-142">보안 수준</span><span class="sxs-lookup"><span data-stu-id="ad9f7-142">Security level</span></span>|<span data-ttu-id="ad9f7-143">IsSecurityCritical</span><span class="sxs-lookup"><span data-stu-id="ad9f7-143">IsSecurityCritical</span></span>|<span data-ttu-id="ad9f7-144">IsSecuritySafeCritical</span><span class="sxs-lookup"><span data-stu-id="ad9f7-144">IsSecuritySafeCritical</span></span>|<span data-ttu-id="ad9f7-145">IsSecurityTransparent</span><span class="sxs-lookup"><span data-stu-id="ad9f7-145">IsSecurityTransparent</span></span>|  
|--------------------|------------------------|----------------------------|---------------------------|  
|<span data-ttu-id="ad9f7-146">위험</span><span class="sxs-lookup"><span data-stu-id="ad9f7-146">Critical</span></span>|`true`|`false`|`false`|  
|<span data-ttu-id="ad9f7-147">안전에 중요</span><span class="sxs-lookup"><span data-stu-id="ad9f7-147">Safe-critical</span></span>|`true`|`true`|`false`|  
|<span data-ttu-id="ad9f7-148">투명</span><span class="sxs-lookup"><span data-stu-id="ad9f7-148">Transparent</span></span>|`false`|`false`|`true`|  
  
 <span data-ttu-id="ad9f7-149">이러한 속성을 사용하는 것이 어셈블리 및 해당 형식의 보안 주석을 검사하고 현재 신뢰 수준을 확인한 다음 런타임 규칙을 복제하는 것보다 훨씬 더 간단합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-149">Using these properties is much simpler than examining the security annotations of an assembly and its types, checking the current trust level, and attempting to duplicate the runtime's rules.</span></span> <span data-ttu-id="ad9f7-150">예를 들어 동일한 형식이 명령줄에서 실행되는 경우 보안에 중요하고, 샌드박스 응용 프로그램 도메인에서 실행되는 경우 보안에 투명할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-150">For example, the same type can be security-critical when it is run from the command line, or security-transparent when it is run in a sandboxed application domain.</span></span>  
  
 <span data-ttu-id="ad9f7-151"><xref:System.Reflection.MethodBase>, <xref:System.Reflection.FieldInfo>, <xref:System.Reflection.Emit.TypeBuilder>, <xref:System.Reflection.Emit.MethodBuilder> 및 <xref:System.Reflection.Emit.DynamicMethod> 클래스에도 비슷한 속성이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-151">There are similar properties on the <xref:System.Reflection.MethodBase>, <xref:System.Reflection.FieldInfo>, <xref:System.Reflection.Emit.TypeBuilder>, <xref:System.Reflection.Emit.MethodBuilder>, and <xref:System.Reflection.Emit.DynamicMethod> classes.</span></span> <span data-ttu-id="ad9f7-152">기타 리플렉션 및 리플렉션 내보내기 추상화의 경우 연결된 메서드에 보안 특성이 적용됩니다. 예를 들어 속성의 경우 속성 접근자에 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-152">(For other reflection and reflection emit abstractions, security attributes are applied to the associated methods; for example, in the case of properties they are applied to the property accessors.)</span></span>  
  
<a name="accessingNormallyInaccessible"></a>   
## <a name="accessing-members-that-are-normally-inaccessible"></a><span data-ttu-id="ad9f7-153">일반적으로 액세스할 수 없는 멤버 액세스</span><span class="sxs-lookup"><span data-stu-id="ad9f7-153">Accessing Members That Are Normally Inaccessible</span></span>  
 <span data-ttu-id="ad9f7-154">리플렉션을 사용하여 공용 언어 런타임의 접근성 규칙에 따라 액세스할 수 없는 멤버를 호출하려면 코드에 다음 두 가지 권한 중 하나를 부여해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-154">To use reflection to invoke members that are inaccessible according to the accessibility rules of the common language runtime, your code must be granted one of two permissions:</span></span>  
  
-   <span data-ttu-id="ad9f7-155">코드에서 public이 아닌 멤버를 호출할 수 있게 하려면 <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> 플래그를 통해 코드에 <xref:System.Security.Permissions.ReflectionPermission>을 부여해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-155">To allow code to invoke any nonpublic member:Your code must be granted <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="ad9f7-156">기본적으로 보안 정책은 인터넷에서 시작된 코드에 대해 이 권한을 거부합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-156">By default, security policy denies this permission to code that originates from the Internet.</span></span> <span data-ttu-id="ad9f7-157">인터넷에서 시작된 코드에는 이 권한을 부여하면 안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-157">This permission should never be granted to code that originates from the Internet.</span></span>  
  
-   <span data-ttu-id="ad9f7-158">호출된 멤버를 포함하는 어셈블리의 권한 부여 집합이 호출 코드를 포함하는 어셈블리의 권한 부여 집합과 같거나 하위 집합인 경우 코드에서 public이 아닌 멤버를 호출할 수 있게 하려면 <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> 플래그를 통해 코드에 <xref:System.Security.Permissions.ReflectionPermission>을 부여해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-158">To allow code to invoke any nonpublic member, as long as the grant set of the assembly that contains the invoked member is the same as, or a subset of, the grant set of the assembly that contains the invoking code: Your code must be granted <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag.</span></span>  
  
 <span data-ttu-id="ad9f7-159">예를 들어 응용 프로그램 도메인 인터넷 권한 및 <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> 플래그를 통한 <xref:System.Security.Permissions.ReflectionPermission>을 부여한 다음 두 어셈블리 A와 B를 사용하여 인터넷 응용 프로그램을 실행한다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-159">For example, suppose you grant an application domain Internet permissions plus <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag, and then run an Internet application with two assemblies, A and B.</span></span>  
  
-   <span data-ttu-id="ad9f7-160">어셈블리 B의 권한 부여 집합은 A에 부여되지 않은 권한을 포함하지 않으므로 어셈블리 A가 리플렉션을 사용하여 어셈블리 B의 private 멤버에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-160">Assembly A can use reflection to access private members of assembly B, because the grant set of assembly B does not include any permissions that A has not been granted.</span></span>  
  
-   <span data-ttu-id="ad9f7-161">mscorlib.dll은 완전히 신뢰할 수 있어 어셈블리 A에 부여되지 않은 권한이 있으므로 어셈블리 A가 리플렉션을 사용하여 mscorlib.dll과 같은 [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] 어셈블리의 private 멤버에 액세스할 수 없습니다. 런타임에 코드 액세스 보안이 스택을 이동하는 경우 <xref:System.MemberAccessException>이 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-161">Assembly A cannot use reflection to access private members of [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] assemblies such as mscorlib.dll, because mscorlib.dll is fully trusted and therefore has permissions that have not been granted to assembly A. A <xref:System.MemberAccessException> is thrown when code access security walks the stack at run time.</span></span>  
  
## <a name="serialization"></a><span data-ttu-id="ad9f7-162">Serialization</span><span class="sxs-lookup"><span data-stu-id="ad9f7-162">Serialization</span></span>  
 <span data-ttu-id="ad9f7-163">직렬화를 위해 <xref:System.Security.Permissions.SecurityPermissionAttribute.SerializationFormatter%2A?displayProperty=nameWithType> 플래그가 있는 <xref:System.Security.Permissions.SecurityPermission>은 접근성에 관계없이 직렬화 가능 형식의 멤버를 가져오고 설정하는 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-163">For serialization, <xref:System.Security.Permissions.SecurityPermission> with the <xref:System.Security.Permissions.SecurityPermissionAttribute.SerializationFormatter%2A?displayProperty=nameWithType> flag provides the ability to get and set members of serializable types, regardless of accessibility.</span></span> <span data-ttu-id="ad9f7-164">이 권한을 통해 코드에서 인스턴스의 private 상태를 검색하고 변경할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-164">This permission enables code to discover and change the private state of an instance.</span></span> <span data-ttu-id="ad9f7-165">적절한 권한이 부여되는 것 외에도 메타데이터에서 형식이 직렬화 가능으로 [표시](../../../docs/standard/attributes/applying-attributes.md)되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-165">(In addition to being granted the appropriate permissions, the type must be [marked](../../../docs/standard/attributes/applying-attributes.md) as serializable in metadata.)</span></span>  
  
## <a name="parameters-of-type-methodinfo"></a><span data-ttu-id="ad9f7-166">MethodInfo 형식의 매개 변수</span><span class="sxs-lookup"><span data-stu-id="ad9f7-166">Parameters of Type MethodInfo</span></span>  
 <span data-ttu-id="ad9f7-167">특히 신뢰할 수 있는 코드의 경우 <xref:System.Reflection.MethodInfo> 매개 변수를 사용하는 public 멤버를 작성하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-167">Avoid writing public members that take <xref:System.Reflection.MethodInfo> parameters, especially for trusted code.</span></span> <span data-ttu-id="ad9f7-168">이러한 멤버는 악성 코드에 더 취약할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-168">Such members might be more vulnerable to malicious code.</span></span> <span data-ttu-id="ad9f7-169">예를 들어 <xref:System.Reflection.MethodInfo> 매개 변수를 사용하는 신뢰할 수 있는 코드의 public 멤버를 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-169">For example, consider a public member in highly trusted code that takes a <xref:System.Reflection.MethodInfo> parameter.</span></span> <span data-ttu-id="ad9f7-170">public 멤버가 제공된 매개 변수에 대해 <xref:System.Reflection.MethodBase.Invoke%2A> 메서드를 간접적으로 호출한다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-170">Assume that the public member indirectly calls the <xref:System.Reflection.MethodBase.Invoke%2A> method on the supplied parameter.</span></span> <span data-ttu-id="ad9f7-171">public 멤버가 필요한 권한 검사를 수행하지 않는 경우 보안 시스템에서 호출자를 신뢰할 수 있는 것으로 결정하기 때문에 <xref:System.Reflection.MethodBase.Invoke%2A> 메서드가 항상 성공합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-171">If the public member does not perform the necessary permission checks, the call to the <xref:System.Reflection.MethodBase.Invoke%2A> method will always succeed, because the security system determines that the caller is highly trusted.</span></span> <span data-ttu-id="ad9f7-172">악성 코드에 메서드를 직접 호출할 수 있는 권한이 없는 경우에도 public 멤버를 호출하여 간접적으로 호출할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-172">Even if malicious code does not have the permission to directly invoke the method, it can still do so indirectly by calling the public member.</span></span>  
  
## <a name="version-information"></a><span data-ttu-id="ad9f7-173">버전 정보</span><span class="sxs-lookup"><span data-stu-id="ad9f7-173">Version Information</span></span>  
  
-   <span data-ttu-id="ad9f7-174">[!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)]부터 투명 코드는 리플렉션을 사용하여 보안에 중요한 멤버에 액세스할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-174">Beginning with the [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], transparent code cannot use reflection to access security-critical members.</span></span>  
  
-   <span data-ttu-id="ad9f7-175"><xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> 플래그는 [!INCLUDE[net_v20SP1_long](../../../includes/net-v20sp1-long-md.md)]에서 도입되었습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-175">The <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag is introduced in the [!INCLUDE[net_v20SP1_long](../../../includes/net-v20sp1-long-md.md)].</span></span> <span data-ttu-id="ad9f7-176">이전 버전의 [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)]에서는 리플렉션을 사용하여 public이 아닌 멤버에 액세스하는 코드에 <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> 플래그가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-176">Earlier versions of the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] require the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag for code that uses reflection to access nonpublic members.</span></span> <span data-ttu-id="ad9f7-177">부분적으로 신뢰할 수 있는 코드에는 이 권한을 부여하면 안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-177">This is a permission that should never be granted to partially trusted code.</span></span>  
  
-   <span data-ttu-id="ad9f7-178">[!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)]부터 리플렉션을 사용하여 public이 아닌 형식과 멤버에 대한 정보를 가져오는 데 필요한 권한은 없습니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-178">Beginning with the [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)], using reflection to obtain information about nonpublic types and members does not require any permissions.</span></span> <span data-ttu-id="ad9f7-179">이전 버전에서는 <xref:System.Security.Permissions.ReflectionPermissionFlag.TypeInformation?displayProperty=nameWithType> 플래그가 있는 <xref:System.Security.Permissions.ReflectionPermission>이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="ad9f7-179">In earlier versions, <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.TypeInformation?displayProperty=nameWithType> flag is required.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ad9f7-180">참고 항목</span><span class="sxs-lookup"><span data-stu-id="ad9f7-180">See Also</span></span>  
 <xref:System.Security.Permissions.ReflectionPermissionFlag>  
 <xref:System.Security.Permissions.ReflectionPermission>  
 <xref:System.Security.Permissions.SecurityPermission>  
 [<span data-ttu-id="ad9f7-181">보안 변경 내용</span><span class="sxs-lookup"><span data-stu-id="ad9f7-181">Security Changes</span></span>](../../../docs/framework/security/security-changes.md)  
 [<span data-ttu-id="ad9f7-182">코드 액세스 보안</span><span class="sxs-lookup"><span data-stu-id="ad9f7-182">Code Access Security</span></span>](../../../docs/framework/misc/code-access-security.md)  
 [<span data-ttu-id="ad9f7-183">리플렉션 내보내기의 보안 문제점</span><span class="sxs-lookup"><span data-stu-id="ad9f7-183">Security Issues in Reflection Emit</span></span>](../../../docs/framework/reflection-and-codedom/security-issues-in-reflection-emit.md)  
 [<span data-ttu-id="ad9f7-184">형식 정보 보기</span><span class="sxs-lookup"><span data-stu-id="ad9f7-184">Viewing Type Information</span></span>](../../../docs/framework/reflection-and-codedom/viewing-type-information.md)  
 [<span data-ttu-id="ad9f7-185">특성 적용</span><span class="sxs-lookup"><span data-stu-id="ad9f7-185">Applying Attributes</span></span>](../../../docs/standard/attributes/applying-attributes.md)  
 [<span data-ttu-id="ad9f7-186">사용자 지정 특성 액세스</span><span class="sxs-lookup"><span data-stu-id="ad9f7-186">Accessing Custom Attributes</span></span>](../../../docs/framework/reflection-and-codedom/accessing-custom-attributes.md)
