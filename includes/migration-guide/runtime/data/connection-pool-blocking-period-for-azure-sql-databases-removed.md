### <a name="connection-pool-blocking-period-for-azure-sql-databases-is-removed"></a><span data-ttu-id="aa2d2-101">Azure SQL 데이터베이스에 대한 연결 풀 차단 기간이 제거되었습니다.</span><span class="sxs-lookup"><span data-stu-id="aa2d2-101">Connection pool blocking period for Azure SQL databases is removed</span></span>

|   |   |
|---|---|
|<span data-ttu-id="aa2d2-102">설명</span><span class="sxs-lookup"><span data-stu-id="aa2d2-102">Details</span></span>|<span data-ttu-id="aa2d2-103">.NET Framework 4.6.2부터는 알려진 Azure SQL 데이터베이스(*.database.windows.net, *.database.chinacloudapi.cn, *.database.usgovcloudapi.net, *.database.cloudapi.de)에 대한 연결 열기 요청의 경우 연결 풀 차단이 제거되고 연결 열기 오류가 캐시되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="aa2d2-103">Starting with the .NET Framework 4.6.2, for connection open requests to known Azure SQL databases (*.database.windows.net, *.database.chinacloudapi.cn, *.database.usgovcloudapi.net, *.database.cloudapi.de), the connection pool blocking period is removed, and connection open errors are not cached.</span></span> <span data-ttu-id="aa2d2-104">연결 열기 요청 다시 시도는 일시적인 연결 오류 발생 직후에 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="aa2d2-104">Attempts to retry connection open requests will occur almost immediately after transient connection errors.</span></span> <span data-ttu-id="aa2d2-105">이 변경은 Azure SQL 데이터베이스에 대한 연결 열기 시도를 즉시 다시 시도하도록 하여 클라우드 지원 응용 프로그램의 성능을 향상시킵니다.</span><span class="sxs-lookup"><span data-stu-id="aa2d2-105">This change allows the connection open attempt to be retried immediately for Azure SQL databases, thereby improving the performance of cloud- enabled apps.</span></span> <span data-ttu-id="aa2d2-106">다른 모든 연결 시도의 경우 연결 풀 차단 기간이 계속 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="aa2d2-106">For all other connection attempts, the connection pool blocking period continues to be enforced.</span></span><p/><span data-ttu-id="aa2d2-107">.NET Framework 4.6.1 및 이전 버전에서 데이터베이스에 연결할 때 응용 프로그램에 일시적인 연결 오류가 발생할 경우, 연결 풀이 오류를 캐시하고 5초에서 1분 동안 다시 throw하기 때문에 연결 시도는 신속하게 다시 시도될 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="aa2d2-107">In the .NET Framework 4.6.1 and earlier versions, when an app encounters a transient connection failure when connecting to a database, the connection attempt cannot be retried quickly, because the connection pool caches the error and re-throws it for 5 seconds to 1 minute.</span></span> <span data-ttu-id="aa2d2-108">자세한 내용은 [SQL Server 연결 풀링(ADO.NET)](~/docs/framework/data/adonet/sql-server-connection-pooling.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="aa2d2-108">For more information, see [SQL Server Connection Pooling (ADO.NET)](~/docs/framework/data/adonet/sql-server-connection-pooling.md).</span></span> <span data-ttu-id="aa2d2-109">이 동작은 일반적으로 몇 초 내에 복구되는 일시적인 오류가 자주 발생하는 Azure SQL 데이터베이스에 대한 연결 문제가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="aa2d2-109">This behavior is problematic for connections to Azure SQL databases, which often fail with transient errors that are typically recovered from within a few seconds.</span></span> <span data-ttu-id="aa2d2-110">연결 풀 차단 기능은 데이터베이스를 사용할 수 있고 앱을 몇 초 안에 렌더링해야 하더라도 광범위한 기간 동안 응용 프로그램 데이터베이스에 연결할 수 없다는 것을 의미합니다.</span><span class="sxs-lookup"><span data-stu-id="aa2d2-110">The connection pool blocking feature means that the app cannot connect to the database for an extensive period, even though the database is available and the app needs to render within a few seconds.</span></span>|
|<span data-ttu-id="aa2d2-111">제안 해결 방법</span><span class="sxs-lookup"><span data-stu-id="aa2d2-111">Suggestion</span></span>|<span data-ttu-id="aa2d2-112">이 동작이 필요 없는 경우 .NET Framework 4.6.2에서 새로 추가된 <xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=name> 속성을 설정하여 연결 풀 차단 기간을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="aa2d2-112">If this behavior is undesirable, the connection pool blocking period can be configured by setting the <xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=name> property introduced in the .NET Framework 4.6.2.</span></span> <span data-ttu-id="aa2d2-113">속성의 값은 다음의 세 값 중 하나를 사용할 수 있는 <xref:System.Data.SqlClient.PoolBlockingPeriod?displayProperty=name> 열거형의 멤버입니다.</span><span class="sxs-lookup"><span data-stu-id="aa2d2-113">The value of the property is a member of the <xref:System.Data.SqlClient.PoolBlockingPeriod?displayProperty=name> enumeration that can take either of three values:</span></span><ul><li><xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock></li><li><xref:System.Data.SqlClient.PoolBlockingPeriod.Auto></li><li><xref:System.Data.SqlClient.PoolBlockingPeriod.NeverBlock></li></ul><span data-ttu-id="aa2d2-114"><xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=name> 속성을 <xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock>으로 설정하여 이전 동작을 복원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="aa2d2-114">The previous behavior can be restored by setting the <xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=name> property to <xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock>.</span></span>|
|<span data-ttu-id="aa2d2-115">범위</span><span class="sxs-lookup"><span data-stu-id="aa2d2-115">Scope</span></span>|<span data-ttu-id="aa2d2-116">부</span><span class="sxs-lookup"><span data-stu-id="aa2d2-116">Minor</span></span>|
|<span data-ttu-id="aa2d2-117">버전</span><span class="sxs-lookup"><span data-stu-id="aa2d2-117">Version</span></span>|<span data-ttu-id="aa2d2-118">4.6.2</span><span class="sxs-lookup"><span data-stu-id="aa2d2-118">4.6.2</span></span>|
|<span data-ttu-id="aa2d2-119">형식</span><span class="sxs-lookup"><span data-stu-id="aa2d2-119">Type</span></span>|<span data-ttu-id="aa2d2-120">런타임</span><span class="sxs-lookup"><span data-stu-id="aa2d2-120">Runtime</span></span>|
|<span data-ttu-id="aa2d2-121">영향을 받는 API</span><span class="sxs-lookup"><span data-stu-id="aa2d2-121">Affected APIs</span></span>|<ul><li><xref:System.Data.Common.DbConnection.OpenAsync?displayProperty=nameWithType></li><li><xref:System.Data.SqlClient.SqlConnection.Open?displayProperty=nameWithType></li><li><xref:System.Data.SqlClient.SqlConnection.OpenAsync(System.Threading.CancellationToken)?displayProperty=nameWithType></li></ul>|

